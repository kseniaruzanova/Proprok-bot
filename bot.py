from dotenv import load_dotenv
from dotenv import load_dotenv, find_dotenv

load_dotenv(find_dotenv(), override=True)
import os
import logging
import asyncio
from typing import Dict, Optional, Tuple
from enum import Enum

from aiogram import Bot, Dispatcher, F
from aiogram.filters import Command
from aiogram.fsm.context import FSMContext
from aiogram.fsm.state import State, StatesGroup
from aiogram.fsm.storage.memory import MemoryStorage
from aiogram.types import Message
from openai import OpenAI

logging.basicConfig(level=logging.INFO)
logger = logging.getLogger(__name__)
load_dotenv(override=True)

TELEGRAM_BOT_TOKEN = os.getenv("TELEGRAM_BOT_TOKEN")
OPENAI_API_KEY = os.getenv("OPENAI_API_KEY")

# Проверка токенов
if not TELEGRAM_BOT_TOKEN:
    raise ValueError("Не задан токен Telegram бота!")

if not OPENAI_API_KEY:
    raise ValueError("Не задан ключ OpenAI API!")

model_token1 = 2000 #2000
model_token2 = 500 #500
model_token21 = 50 #50
model_token3 = 2000 #2000
model_token4 = 1000 #1000

bot = Bot(token=TELEGRAM_BOT_TOKEN)
storage = MemoryStorage()
dp = Dispatcher(storage=storage) 
client = OpenAI(api_key=OPENAI_API_KEY)

class ArchetypeRole(Enum):
    CORE = "ЯДРО"
    FEAR = "СТРАХ"
    REALIZATION = "РЕАЛИЗАЦИЯ"

ARCHEYPE_DESCRIPTIONS = {
    1: {
        ArchetypeRole.CORE: """Ты - дыхание, из которого начинается ветер. 
Ты приходишь туда, где нет дороги — и создаёшь направление.
В тебе нет ожидания — в тебе энергия начала, импульс. 
Ты чувствуешь, как будто внутренний ток идёт напрямую, минуя сомнение.
Ты не ищешь подтверждения. Если почувствовал — значит пора.  
Твоя природа — создавать из пустоты, запускать, формировать пространство, где до тебя было ничто.  

Ты не просто двигаешься — ты приводишь в движение.

Но вместе с этим даром приходит и невидимый долг:

быть первым, тянуть на себе, справляться без поддержки, не останавливаться и быть самостоятельным даже в надломе.

Ты не даёшь себе права просить о помощи, потому что внутри звучит:  «Если я могу — значит, я должен».
Ты устаёшь — но не разрешаешь себе об этом сказать.

Ты берёшь на себя больше, чем положено.
Ты идёшь первым — и платишь за это выгоранием.
Ты не признаёшь слабость. Не останавливаешься.
Ты боишься: если замедлишься — исчезнет импульс.
И потому двигаешься даже тогда, когда не можешь.""",
        ArchetypeRole.FEAR: """Ты боишься собственной инициативы.
Потому что там, где ты первый — ты один.
Ты не знаешь, как свериться с другими.
Ты не веришь, что тебе можно хотеть просто так.
Твоя травма — в обесценивании желания.
Когда-то тебе дали понять, что спонтанность = глупость.не
Что действовать первым — опасно.
Что лидер — это тот, кто слишком много на себя берёт.
С тех пор ты начал сомневаться.
Ты откладываешь старт. Тянешь момент.
Ожидаешь условий, которых не будет.
Ты ждёшь одобрения, разрешения, инструкции.
Но всё это — избегание.
Ты боишься проиграть — и потому не начинаешь.
Ты боишься провалиться — и потому остаёшься в вечной готовности, но не в действии.
Ты убегаешь от своей первичности — и в этом теряешь силу.""",
        ArchetypeRole.REALIZATION: """Ты можешь начинать — без разрешения.
Ты можешь идти первым — даже если боишься ошибиться.
Ты можешь доверять импульсу — не дожидаясь аплодисментов.
Ты можешь действовать, не доказывая, не объясняя, не сверяясь.
Ты можешь быть движением — даже если не видишь всей дороги.
Ты не должен ждать сигнала, чтобы стать собой.
Ты не должен быть идеальным, чтобы быть началом.
Ты не должен заслуживать право на шаг.
Твоя сила — в первичности.
Но зрелость — в том, чтобы не путать её с обязательством тащить всех.
Ты не обязан вести.
Ты можешь просто идти — потому что зовёт.
Потому что хочется. Потому что жив.
Ты не причина всего. Но ты — начало.
Что ты продолжаешь откладывать,
словно кто-то должен сначала благословить твоё желание?

Когда ты действуешь не из долга, а из внутреннего движения — тогда ты становишься собой.  
И всё вокруг начинает происходить."""
    },
    2: {
        ArchetypeRole.CORE: """Ты - тишина, в которой все слышно. Ты - глубина, в которую другие боятся заглянуть.  
Ты считываешь с первого взгляда. Ты чувствуешь до слов.  
Твоя суть — наблюдать, вникать, распознавать. Ты не бросаешься — ты ждёшь, пока правда сама выйдет наружу.

Так и бывает: рядом с тобой тайное - становится явным.

Ты не громкий, но ты влияешь.  
Ты держишь паузы, в которых рассыпаются чужие маски.  
Ты не споришь — ты просто видишь сквозь.  

Но вместе с этим даром приходит и невидимый долг: молчать, быть невидимым, не мешать.  
Ты не говоришь, даже когда знаешь.  
Ты не действуешь, даже когда видишь исход.  
Ты умеешь ждать.  
Но иногда ты ждёшь слишком долго — и теряешь момент навсегда.
Ты будто слышишь мир, но не отвечаешь.
И от этого в тебе накапливается невысказанность.
Она не разрушает сразу — но медленно глушит живое.

Ты бездействуешь и называешь это «наблюдением».Ты носишь роль «молчаливого мудреца», являясь приёмником, который не даёт себе права звучать.Ты боишься правды — и называешь страх «тонким чувством».
Ты избегаешь конфликта — и выдаешь это за гармонию.
Но знаешь: это не интуиция. Это отступление.""",
        ArchetypeRole.FEAR: """Ты боишься сказать.
Боишься проявиться.
Боишься, что твои знания обнажат чужую слабость.
Боишься, что твоя глубина оттолкнёт.
Что проницательность вызовет агрессию.
Что если показать, насколько ты видишь — тебя сделают врагом.
Твоя травма — в опыте, где за ясность наказывали.
Где чувствительность была «неуместной».
Где учили: «молчи, не высовывайся».
Где знание приравнивалось к угрозе.
Ты боишься собственной интуиции.
Ты задавливаешь сигналы.
Ты уходишь в наблюдение, чтобы не участвовать.
Ты избегаешь ясности — потому что она делает уязвимым.
И ты выбираешь быть незаметным,
даже если внутри — целая вселенная, которую нужно раскрыть.""",
        ArchetypeRole.REALIZATION: """Твоя глубина — это не угроза. Это компас для других.  

Ты раскрываешься, когда позволяешь себе доверять своей интуиции — не из осторожности, а из силы.  
Когда говоришь не громко — но точно.  

Ты реализуешься, когда прекращаешь сомневаться в своей правде.  
В этом твоя власть.

Ты можешь знать — и говорить.
Ты можешь видеть — и при этом не прятаться.
Ты можешь быть глубиной — и не растворяться в тишине.
Ты можешь доверять своей интуиции, даже если никто её не подтвердил.
Ты не обязан молчать, чтобы быть принятым.
Ты не обязан смягчать свою проницательность, чтобы не испугать.
Ты не обязан прятать ясность — только потому, что она неудобна.
Твоя сила — в способности чувствовать до слов.
Но зрелость — в выборе делиться, даже если тебя не попросят.
В том, чтобы не быть тайной самому себе.
Ты можешь быть светом — не оглядываясь.
Ты можешь быть проводником — не спасателем.
Ты — тот, кто знает. И тот, кто может говорить.
Что в тебе до сих пор боится своей ясности —
словно истина в тебе может разрушить больше, чем исцелить?"""
    },
    3: {
        ArchetypeRole.CORE: """Ты умеешь любить так, что мир оживает.Слышать рост — ещё до того, как он проявится.Открывать объятия и держать в них целые миры — с нежностью, терпением и верой.Ты приходишь как почва. Как сад. Как тот, кто не требует, а просто даёт.
Ты не спасаешь — ты принимаешь.Не осуждаешь — обволакиваешь.С тобой рядом у людей появляется надежда.
Но вместе с этим даром приходит и невидимый долг:быть нужным, согревающим, поддерживающим — всегда.Если не отдавать — то кто ты тогда?
Ты не даёшь себе устать.Ты не даёшь себе уйти.Ты согреваешь — даже если сам мёрзнешь.
Ты боишься, что если перестанешь давать — исчезнешь.Ты не знаешь, где заканчивается любовь — и начинается растворение.Ты терпишь, потому что веришь: твоё тепло нужно. Даже там, где его не ценят.
Ты — как почва, что принимает всё.Но если не создать границы, тебя размоет чужими жизнями.Ты ценен не потому, что нужен.Ты нужен — потому что ценен.""",
        ArchetypeRole.FEAR: """Ты боишься, что просто быть — недостаточно.Что если не дашь, не согреешь, не подставишь плечо — тебя забудут.Ты боишься, что без заботы ты — пустое место.
Твоя травма — в ощущении, что любовь нужно заслужить.Что быть собой — риск.Что быть глубоким, противоречивым, слишком разным — значит потерять контакт.Ты научился прятать потребности.Сначала — от других. Потом — от себя.
Ты даёшь, даже когда истощён.Ты согреваешь, когда внутри — зима.Ты стараешься быть удобной реальностью для всех — лишь бы не остаться одному.Ты растворяешь себя, чтобы сохранить связь.
Ты боишься, что если перестанешь быть нужным — исчезнешь.Что если скажешь «мне тяжело», — тебя отвергнут.Что если покажешь свою тень — разлюбят.
И потому ты питаешь других — в надежде, что кто-то наконец будет питать тебя.""",
        ArchetypeRole.REALIZATION: """Ты можешь любить — не теряя себя.
Ты можешь быть близким — и оставаться цельным.
Ты можешь быть разным, требовательным, ранимым — и быть любим.
Тебе не нужно сглаживать углы, чтобы остаться в контакте.
Не нужно быть удобным, чтобы быть рядом.
Не нужно становиться меньше, чтобы тебя не покинули.
Твоя зрелость — в способности быть живым и в связи одновременно.
Ты умеешь создавать контакт, в котором никто не исчезает.
Ты можешь быть в союзе, не растворяясь, не спасая, не подстраиваясь.
Ты больше не боишься быть собой — даже если это неудобно.
Ты не приноси́шь себя в жертву, чтобы тебя не оставили.
Ты не заслуживаешь любовь — ты живёшь в ней.
Ты можешь быть с кем-то — и не исчезать.
Ты можешь быть собой — и быть в связи.
Что в тебе до сих пор верит,
что чтобы сохранить любовь — нужно отказаться от себя?
Ты реализуешься, когда не сглаживаешь, а называешь.  
Когда перестаёшь быть «для всех» — и становишься собой.

Ты раскрываешься, когда перестаёшь бояться конфликта.  
Когда понимаешь: открытость — не угроза связи, а её основа.  
Когда не гасишь напряжение, а проводишь его.  
В этом твоя лёгкость становится настоящей — потому что она не избегание, а выбор."""
    },
    4: {
        ArchetypeRole.CORE: """Ты строишь порядок — на обломках собственного дыхания.
Ты пришёл, чтобы выстраивать.Твоя суть — в опоре. В порядке. В логике, которая работает.Ты не ищешь эффектов — ты создаёшь устойчивость.Ты мыслишь шагами. Видишь систему, пока другие тонут в деталях.Ты создаёшь конструкцию — не ради красоты, а чтобы держало.
Ты не говоришь просто так — каждое слово выверено.Ты не лезешь в хаос — ты умеешь делать из него ясность.Ты не поверхностный — ты основа.Ты знаешь цену времени. Усилию. Решению.
Но вместе с этим даром приходит и невидимый долг:всё держать, всё удерживать, всё предусматривать.Ты ощущаешь: если ты отпустишь — всё развалится.Ты берёшь на себя больше, чем положено, потому что не веришь, что кто-то ещё справится.
Ты боишься пустоты — и заполняешь её контролем.Ты боишься слабости — и закрываешь её дисциплиной.Ты стал системой, функцией. И забыл, что был живым.Ты стал опорой. Но куда ты сам опираешься?
Ты держишь, когда пора отпустить.Ты сохраняешь структуру, даже если в ней больше нет смысла.Ты сильный — но устал быть прочным вместо живого.Ты — опора. И тебе некуда упасть.
Потому что ты построил клетку.""",
        ArchetypeRole.FEAR: """Ты боишься потери контроля.
Ты боишься потерять опору.
Держишься за структуру так, будто без неё развалится всё.
Боишься хаоса — не внешнего, а внутреннего.
Боишься, что если отпустить контроль, выйдет наружу то, чего нельзя показать.
Твоя травма — в моменте, когда мир оказался слишком нестабильным.
Когда безопасность зависела от того, насколько ты собран, надёжен, «правильный».
Когда взрослые не справились — и пришлось взять на себя больше, чем можно было выдержать.
С тех пор ты строишь стены.
Создаёшь порядок.
Каждый шаг сверяешь с внутренней системой координат,
чтобы не сорваться в пропасть.
Ты боишься перемен — даже тех, что могут освободить.
Боишься довериться — потому что не уверен, что кто-то выдержит твою глубину.
Боишься потерять образ сильного — потому что под ним спрятана ранимость, которую никто не должен видеть.
И потому ты держишь лицо.
Собираешься.
Выдерживаешь.
Даже когда трещишь изнутри.
Боишься рухнуть — потому что не знаешь, кто подхватит.
Ты стал слишком взрослым там, где был ещё ребёнком.""",
        ArchetypeRole.REALIZATION: """Ты можешь создавать стабильность — не становясь клеткой.
Ты можешь быть надёжным — и живым одновременно.
Твоя сила — не в контроле, а в ясности.
Не в заморозке чувств, а в умении держать рамку даже в бурю.
Не в закостенелости, а в зрелой опоре, которую ты умеешь передавать другим.
Ты больше не обязан всё предсказать, предусмотреть, уберечь.
Ты не держишь структуру из страха — ты создаёшь пространство для роста.
Ты можешь быть основанием — не становясь бетонной плитой.
Ты можешь быть стабильным — и живым.
Ты больше не боишься изменений.
Ты держишь не порядок — ты держишь смысл.
Что в тебе до сих пор верит,
что без контроля всё рассыплется,
и только жёсткость даёт безопасность?

Ты реализуешься, когда строишь не из страха, а из любви.
Когда не борешься с хаосом — а переводишь его в форму.
Когда создаёшь границы — не как защиту, а как приглашение.  
Ты раскрываешься, когда позволяешь себе быть гибким — не теряя опоры.  
Когда не прячешь свою ранимость за стенами контроля, а делаешь её частью своей зрелости.  
Когда не сдерживаешь себя, чтобы соответствовать, а выстраиваешь структуру, в которой есть место жизни.  
Ты можешь быть тем, кто держит — и тем, кто просит.  
Тем, кто поддерживает — и тем, кто уязвим.  
Ты не обязан быть безупречным, чтобы быть достойным доверия.  
Ты не обязан быть сильным всегда — чтобы быть нужным.  
Ты можешь быть человеком — не функцией.  
Ты можешь быть строителем — не только надсмотрщиком.  
Ты можешь быть системой, в которой есть дыхание.  
Ты больше не держишь всё — ты выбираешь, что действительно важно.  
Ты отпускаешь контроль — и обнаруживаешь: опора уже внутри.  
Ты не разваливаешься — ты оживаешь."""
    },
        5: {
        ArchetypeRole.CORE: """Ты несёшь ответы — и потому не имеешь права на вопрос.
Ты несёшь в себе знание.
Глубокое. Проверенное. Древнее.
Ты видишь суть — потому что знаешь, как смотреть.
Ты не цепляешься за поверхностное. Тебе важно понять, постичь, дойти до основания.
Ты здесь, чтобы быть проводником — не между фактами, а между смыслами.
Ты не про объяснения — ты про истину.
Ты не про споры — ты про глубину.
Ты говоришь немного — но каждое слово весит.
С тобой рядом перестают суетиться. Начинают слышать.
Но вместе с этим даром приходит невидимый долг:
быть тем, кто не ошибается. Тем, кто не может рухнуть с пьедестала.
Ты не даёшь себе слабости. Не позволяешь себе не знать.
Ты замираешь в роли «мудрого» — даже когда внутри боль и сомнение.
Ты превращаешься в функцию. В принцип. В догму.
И забываешь, что ты тоже — живой.
Ты боишься признаться, что иногда теряешь свет.
Ты стал правилом.
А был — искателем.""",
        ArchetypeRole.FEAR: """Ты боишься, что сама Истина может оказаться иллюзией.
А ты — станешь её носителем, не ведая этого.
Это не просто «меня разоблачат».
Это — «я поведу за собой, а сам не знаю дороги».
Это — «я держу в руках знание, которое может быть ложным».
Это — «я храню огонь, но боюсь, что это просто пепел».
Ты боишься заблуждаться.
Боишься, что когда заговоришь от имени Истины —
на самом деле будешь говорить от имени новой иллюзии.
Ты боишься, что вера, которую передаёшь, не живая, а выученная.
Что глубина — не твоя. А роль — просто костюм.
Ты держишься за догмы, за системы, за цитаты,
потому что без них — слишком пусто.
Слишком тихо.
Слишком страшно оказаться собой — без мантии знающего.
Ты боишься быть тем, кто ищет.
Боишься сказать: «Я не знаю» —
потому что кажется, что тогда исчезнешь.""",
        ArchetypeRole.REALIZATION: """Ты можешь быть проводником — и не играть в пророка.
Ты можешь не знать — и при этом вести.
Твоя сила — не в догме, а в чистоте поиска.
Не в цитатах, а в правде, которую ты прожил.
Не в роли «знающего», а в способности слышать Истину заново — каждый день.
Ты больше не прячешься за роль.
Больше не боишься быть разоблачённым.
Ты живёшь не знанием — а пульсом смысла.
Ты можешь не знать ответа — и при этом не терять вес.
Ты можешь сомневаться — и не исчезать.
Ты можешь говорить — без необходимости быть идеальным.
Ты больше не носишь Истину как броню.
Ты дышишь ею. Ты ею живёшь.
Что в тебе до сих пор верит,
что если ты ошибёшься — то перестанешь быть проводником?

Ты становишься собой, когда перестаёшь быть «учителем».
Когда ты говоришь не из постулата, а из пережитого.
Когда ты не проповедуешь, а живёшь смыслом.
Ты не носитель знания.
Ты — его проводник.
Ты не храм. Ты — живая мудрость."""
    },
    6: {
    ArchetypeRole.CORE: """Ты не выбираешь — ты распадаешься на части, пытаясь удержать и то, и другое.
Ты рождён как тот, кто чувствует всё — глубже, чем другие.
Ты ищешь не просто близость, а слияние. Не просто любовь, а истину между.
Ты видишь сразу обе стороны. Слышишь, что не сказано.
Ты живёшь в напряжении между «не потерять» и «не предать себя».
Ты умеешь быть с тем, кто ранен. С тем, кто боится. С тем, кто ищет.
Ты дышишь сердцем. И этим притягиваешь.

Но вместе с этим даром приходит боль развилки.
Ты стоишь между чужой болью и своей правдой.
Ты молчишь, чтобы не ранить.
Остаёшься, когда давно пора идти.
Соглашаешься — чтобы не потерять.
Ты хочешь, чтобы тебя выбрали. Но сам не выбираешь себя.
Ты боишься, что любовь исчезнет, если станешь неудобным.
Готов отдать всё, чтобы остаться «хорошим» — даже если внутри пусто.
Ты становишься компромиссом. Улыбкой без опоры.
Ты живёшь на грани: разорванный между тёплым и честным.
Ты держишь связь, в которой теряешь себя.
Ты стал согласием. А был — выбором.""",
    ArchetypeRole.FEAR: """Ты боишься сделать выбор.
Не потому что не знаешь, чего хочешь —
а потому что знаешь цену.
Ты боишься, что если выберешь себя — разрушишь чью-то жизнь.
А если выберешь другого — потеряешь свою.
Ты боишься быть причиной чьей-то боли.
Ты боишься быть собой — если это разбивает гармонию.
Ты живёшь в мире, где каждый выбор — как предательство.
И что бы ты ни выбрал — кто-то пострадает.
Ты боишься оказаться тем, из-за кого рушится чьё-то «всё».
Ты боишься, что твоя правда — чужая катастрофа.
Ты мечешься между двумя истинами,
и ни одну не можешь отпустить.
Ты боишься, что если сделаешь шаг —
расколешь свою жизнь надвое.
Ты боишься, что любовь не выдержит твоей честности.
Что близость не переживёт правду.
Что путь не примет тех, кого ты любишь.
Ты боишься быть цельным —
потому что цельность требует разорвать то,
что ты привык склеивать собой.
Ты боишься, что любой выход — это разрушение.
А остаться — значит умереть медленно.""",
    ArchetypeRole.REALIZATION: """Ты можешь выбирать — без страха разрушить.
Ты можешь идти своим путём — не чувствуя себя предателем.
Ты можешь принимать решения — не из боли, а из зрелости.
Ты больше не раскалываешься на двоих.
Больше не ищешь компромисс там, где нужен выбор.
Больше не сохраняешь видимость связи — ценой себя.
Твоя любовь — не в жертве.
Твоя верность — не в самоотречении.
Твоя близость — не в бесконечном колебании между «собой» и «другим».
Ты умеешь быть цельным — даже в любви.
Ты умеешь быть верным — не теряя свободу.
Ты умеешь любить — не превращаясь в зеркало чужих ожиданий.
Ты больше не боишься сделать шаг.
Ты не спасаешь мир от последствий своих решений.
Ты выбираешь — и ты прав в этом.
Что в тебе до сих пор верит,
что каждый твой выбор — это чья-то потеря?"""
    },
    7: {
    ArchetypeRole.CORE: """Ты идёшь вперёд, потому что не выносишь остановку — в ней слишком слышно себя.

Ты как вектор. Ты не ищешь путь — ты становишься им.
В тебе живёт природная точность, собранность, фокус.
Ты приходишь туда, где нет маршрута — и прокладываешь направление.
Ты не боишься идти первым. Ты просто не можешь иначе.
Ты не просишь разрешения. Ты двигаешься, потому что стоять — значит гаснуть.
Ты не зависаешь в колебаниях.
Ты не вязнешь в эмоциях.
Ты двигаешься из центра — и этим собираешь пространство вокруг.
Ты не теряешься — ты ведёшь. Не громко, не ярко, но неотвратимо.

Но вместе с этим даром приходит и напряжение, которое ты прячешь даже от себя.
Ты не останавливаешься не потому, что не хочешь.
А потому что боишься, что в паузе исчезнешь.
Ты держишься за маршрут — даже если цель потерялась.
Ты продолжаешь движение — даже если внутри уже пусто.
Ты не знаешь, как быть, если нельзя куда-то стремиться.
Ты боишься, что без направления — нет тебя.
Ты стал направлением — и забыл, зачем шёл.
Ты держишь форму, потому что боишься рассыпаться.
Ты не позволяешь себе потеряться — и потому всё время в пути.
Но с каждым шагом дальше от себя.
Ты как храм, который движется. Но внутри этого храма давно звучит только одно: «А если я остановлюсь — кто я тогда?»""",
    ArchetypeRole.FEAR: """Ты боишься остановиться.
Потому что тишина слишком громкая.
Потому что если не будешь двигаться — придётся увидеть, что всё это время ты убегал.
От себя. От пустоты. От вопросов без ответов.
Ты боишься потерять вектор.
Боишься, что если цель исчезнет — исчезнешь и ты.
Что весь путь держится только на усилии.
Что без задачи, без направления, без давления — ты просто рассыплешься.

Но глубже этого — другой страх.
Ты боишься зависимости.
Боишься, что если откроешься — потеряешь маршрут.
Что если впустишь кого-то слишком близко —
твоё направление исказится.
Ты боишься стать ведомым.
Боишься смешения, растворения, вмешательства в твой курс.
Твоя боль — в том, что однажды ты свернул с пути ради связи.
Пожертвовал направлением ради контакта.
И это разрушило и путь, и контакт.
С тех пор ты сам себе экипаж. Сам себе топливо. Сам себе дорога.
Ты идёшь один не потому, что хочешь —
а потому что боишься, что если хоть раз свернёшь — больше не вернёшься.
Ты защищаешь свою цель ценой близости.
Ты боишься остановки — но ещё больше боишься сбиться.
И потому идёшь всё дальше,
иногда не замечая, что давно уже никто не идёт рядом.""",
    ArchetypeRole.REALIZATION: """Ты можешь идти — не убегая.
Ты можешь быть в пути — и не быть один.
Ты можешь двигаться вперёд — не отказываясь от связи.
Ты больше не скрываешь свой маршрут.
Не боишься, что кто-то собьёт твой ритм.
Не защищаешь свой путь изоляцией.
Ты умеешь быть собой — даже в присутствии другого.
Ты умеешь идти рядом — не теряя вектора.
Ты умеешь быть сильным — не становясь холодным.
Твоя зрелость — в умении открываться, не растворяясь.
Делиться дорогой — не теряя направление.
Оставаться ведущим — и быть в близости.
Ты не отказываешься от любви ради свободы.
Ты не убегаешь от связи ради маршрута.
Ты выбираешь путь, в котором есть место для «нас», не теряя «я».
Что в тебе до сих пор верит,
что близость — это потеря себя?"""
},
8: {
    ArchetypeRole.CORE: """Ты пришёл с внутренним знанием: всё имеет последствия.
Ты живёшь с ощущением, что за каждым действием — стоит закон.
Ты различаешь, что справедливо, а что нет — не по эмоции, а по структуре.

Ты чувствуешь глубинный порядок, даже если его не видно.
Твоя суть — выравнивать, ставить на место, нести ответственность и не выходить за грань.

Ты умеешь быть требовательным — к себе, к другим, к миру.
Ты замечаешь перекосы, подмены, фальшь.
Ты не позволяешь хаосу разрастись.
Ты ощущаешь: если я не остановлю — всё выйдет из-под контроля.

Но вместе с этим приходит и внутренний долг быть «вершителем», держать всё в границах, сохранять равновесие любой ценой.
Ты не позволяешь себе ошибиться.
Ты не прощаешь себе слабость.
Ты живёшь, как будто должен постоянно поддерживать моральный порядок, даже если никто не просит.

Ты берёшь на себя больше, чем можешь нести, потому что не можешь отпустить.

Ты ощущаешь, что если не накажешь себя — это сделает мир.
Ты становишься судьёй — и для других, и для себя.""",

    ArchetypeRole.FEAR: """Ты боишься, что даже если будешь правильным — тебя всё равно накажут.
Ты боишься расплаты, которая приходит не за проступок, а просто так — как будто мир заранее решил, что ты в чём-то виноват.
Ты боишься, что порядок, которого ты держишься — не спасает.
Что сколько бы ты ни выравнивал, ни следил, ни просчитывал — в один момент всё может обрушиться.
Твоя травма — в опыте несправедливости.
В моменте, когда ты сделал всё по правилам — и всё равно попал под удар.
Где дисциплина не спасла. Где предсказуемость не уберегла.
Где порядок не сработал.

С тех пор ты живёшь в напряжении.
Ты выстраиваешь системы. Ты держишь баланс.
Ты компенсируешь, сглаживаешь, предотвращаешь.
Ты стараешься быть безупречным — чтобы не попасть в немилость.
Но внутри — постоянное ожидание, что за всё хорошее придётся платить.
Ты превращаешь жизнь в расчёт.
Как будто радость — это долг.""",

    ArchetypeRole.REALIZATION: """Ты можешь перестать жить по формуле «если я хороший — меня не накажут».
Ты можешь больше не выравнивать свою жизнь до последней запятой — в надежде, что это обезопасит.
Ты можешь не бояться спонтанности — и возвращаешь себе право быть живым.
Ты становишься собой, когда отпускаешь идею, что мир должен быть справедливым, чтобы ты был в порядке.
Когда ты позволяешь себе радость — без расплаты.
Ошибку — без самоуничтожения.
Когда ты позволяешь себе дышать — без страха, что это «слишком хорошо».
Ты больше не следишь за кармическим балансом — ты в живом контакте с собой.
Ты не пытаешься компенсировать чужие грехи своей праведностью.
Ты не обнуляешь себя за чужую ошибку.
Ты можешь быть честным — и не бояться удара.
Можешь быть ярким — и не ждать наказания.
Можешь быть спонтанным — и не считать, сколько тебе «вернётся».
Ты не живёшь больше в долгах перед жизнью.
Потому что ты — не бухгалтер мироздания.
Ты — его часть.
Что в тебе до сих пор верит,что любое тепло должно быть оплачено холодом?"""
},
9: {
    ArchetypeRole.CORE: """Ты закрылся от шума — и перестал слышать зов.
Ты не тянешься к свету — потому что ты сам светишь.
Это не свет прожектора, а свет маяка, который выводит из тьмы.
Этот свет не обнажает, а ведёт.
Ты не сразу говоришь, потому что сначала — проживаешь.
Ты улавливаешь, когда другим ещё кажется, что всё нормально.
Ты знаешь, где лукавство. Где боль. Где ложь, обёрнутая в мудрые слова.
Ты не несёшь истину на флаге.
Ты держишь её внутри — потому что она хрупкая.
И потому что тебе больно, когда её не слышат.
Ты умеешь быть один. Не от страха — от избытка.
От избытка чужих ожиданий, глупостей, шума.
Ты не молчишь — ты фильтруешь, чтобы не разлить святое.

Но вместе с этим даром — приговор.
Ты так долго молчал, что забыл, как звучишь.
Ты стал невидимым — из гордости.
Ты отвернулся от сцены — потому что тебя однажды не поняли.
И теперь прячешь свет — как будто так безопаснее.
Ты стал хранителем. Но перестал быть живым.
Ты выбираешь одиночество, даже когда хочется руки.
Ты сдерживаешь слово, даже когда можешь спасти.
Ты прячешься — не потому что опасно.
А потому что боишься не совпасть с чужой картиной.
Ты как огонь в лампе, накрытой колпаком.
Ты светишь в пустоту — но всё равно надеешься, что кто-то увидит.""" ,

    ArchetypeRole.FEAR: """Это страх гения, которому придётся выбрать между истиной и принадлежностью.
Между собой — и теплом человеческого мира.
Ты боишься, что твоя глубина — не дар, а приговор.
Ты боишься быть непонятым — не потому что глупы другие, а потому что нет слов, чтобы передать, как ты чувствуешь.
Ты боишься быть изгнанным не за слабость — а за силу.
Боишься, что твоя глубина — непереносима.
Что твоя мудрость пугает.
Что твоя правда — не нужна.
Что за то, кто ты есть по-настоящему, — не полюбят, а отвергнут.

Твоя травма — не в одиночестве. Ты умеешь быть один.
Твоя боль — в невозможности быть с кем-то, не теряя себя.
В ощущении, что чтобы быть понятым — нужно быть меньше. Глупее. Проще.
А чтобы остаться собой — нужно уйти.
Ты несёшь в себе свет, который не все готовы выдержать.
И потому прячешь его, как преступление.
Ты боишься, что твоя инаковость — слишком.
Что твоя суть — вне времени и вне контекста.
Ты из тех, кто уходит, потому что чувствует: не время. Не место. Не те люди.
Но в этом уходе — страх, что дорога назад исчезнет.
Ты боишься, что если покажешь суть — тебя не поймут.
Что если останешься целым — останешься один.
Что истина, которую ты несёшь, — сделает тебя вечным странником.""" ,

    ArchetypeRole.REALIZATION: """Ты больше не убегаешь в одиночество — ты идёшь вглубь, чтобы выйти в ясность.
Ты выбираешь тишину — не как побег, а как путь.
Не чтобы исчезнуть, а чтобы услышать себя по-настоящему.
Ты не отделяешься, потому что мир тебя не понимает.
Ты освобождаешь себя от чужого шума, чтобы вернуться — целым.
Ты больше не прячешь глубину, как вину.
Ты не играешь в «особенного».
Ты позволяешь себе не знать, не доказывать, не объяснять — а просто быть.
Ты умеешь быть один — но теперь это не защита, а опора.
Ты больше не стыдишься своей инаковости.
Ты больше не боишься, что связь разрушит суть.
Ты можешь быть собой — и быть в мире.
Твоя зрелость — не в уходе, а в возвращении с тем, что ты принёс из глубины.
Что в тебе всё ещё верит, что чтобы быть собой — нужно быть один?"""
},
10: {
    ArchetypeRole.CORE: """Твое постоянство - это перемены.
Ты пришёл с кодом движения и перезапуска.
Ты чувствуешь: всё в этом мире — волна, цикл, смена.
Ты не привязан к стабильности. Ты умеешь адаптироваться, ловить ритм, менять кожу, когда нужно.
Для тебя перемена — не угроза, а способ выживания.
Ты умеешь отпускать, входить в новый виток, двигаться дальше, не застревая в прошлом.
Ты — человек обновления.
Ты не просто допускаешь перемены — ты ими становишься.
Твоя сила — в гибкости, в способности начать сначала, даже когда больно.
Ты двигаешься, когда другие цепенеют.
Ты несёшь в себе код: «ничто не вечно — и это не страшно».
Но вместе с этим приходит внутренний долг всё терпеть и принимать.
Будто обязан принимать любое «вот так теперь» — даже если внутри боль.
Ты не жалуешься, не фиксируешься, не держишься — и потому часто живёшь в вечной адаптации.
Не оседаешь. Не цепляешься. Не позволяешь себе устойчивость.
Крутишься — даже когда хочется остановиться.
Ты живёшь так, как будто всё временно.
И в этом — твоя усталость.""",

    ArchetypeRole.FEAR: """Ты боишься, что мир — это слепая рулетка.
Что судьба — глуха. Что усилия ничего не решают.
Ты боишься повторений. Как будто колесо кармы шепчет:
«Уйдёшь — вернёшься. Простишь — снова ударят».
Ты живёшь настороже — потому что не веришь, что добро засчитывается.
Ты боишься, что сколько бы ни старался, всё вернётся на круги своя.
Не потому что ты ошибся. А потому что так устроено.
Ты хочешь опереться — но земля под ногами скользит.
Ни логика, ни система, ни контроль — не дают опоры.
Есть только поток.
А в потоке — не за что зацепиться.
Невозможно схватить руль, когда его нет.
Невозможно выстроить стратегию, когда правила — мираж.
Твоя боль — в бессилии.
Твоя тоска — в несправедливости.
А твой страх — в том, что всё, что ты строишь,
может исчезнуть
просто потому, что
так выпало.
И глубже всего — это ощущение:
ты не причина.
Ты — бесконечное следствие происходящего.
И сколько бы ты ни пытался стать источником —
жизнь снова берёт вверх.""",

    ArchetypeRole.REALIZATION: """Ты больше не воспринимаешь цикличность судьбы как наказание.
Ты знаешь, что каждый круг — не возврат, а спираль.
Ты не возвращаешься туда же.
Ты проходишь на новом уровне.
Ты становишься собой, когда перестаёшь терпеть и адаптироваться —
а начинаешь выбирать, в какой виток входить.
Ты не жертва колеса, а тот, кто умеет управлять движением изнутри.
Ты раскрываешься, когда говоришь:
«Я не просто иду по судьбе — я с ней в диалоге».
Ты больше не живёшь в страхе, что за радостью придёт расплата.
Ты больше не цепляешься за контроль — потому что слышишь ритм.
Ты не бежишь от перемен — ты умеешь двигаться вместе с ними.
Ты можешь проживать подъёмы — не теряя центр.
Можешь принимать спуски — не разрушаясь.
Можешь быть внутри движения — и не терять направление.
Ты больше не боишься колеса.
Потому что знаешь: движение — это не угроза.
Это дыхание судьбы.
Что в тебе до сих пор верит,
что если ты отпустишь контроль — ты исчезнешь, а не начнешь дышать потоком?""",
},
11: {
    ArchetypeRole.CORE: """Ты стал тишиной, потому что твоя сила напугала тех, чьё одобрение ты искал.
Ты — огонь, который не гаснет.
Ты не просишь силу — ты из неё сделан.
В тебе живёт энергия, которую невозможно укротить — её можно только направить.
Ты не отступаешь, когда трудно. Ты входишь в суть, даже если она пугает.
Твоя природа — необузданная, страстная, настоящая.
Ты не боишься своих желаний.
Ты знаешь: сила — не в контроле, а в честности с собой.
Ты чувствуешь: тебе дано больше, чем другим.
Больше влечения, больше воли, больше огня.
Ты можешь вести. Влиять. Притягивать. Преображать.
Ты умеешь быть одновременно нежным и разрушительным.
Ты не укрощён — ты целостен.
Но вместе с этим даром приходит внутренний долг: сдерживать, управлять, не «сорваться».
Ты боишься разрушить. Боишься быть «слишком».
Ты прячешь свои страсти, потому что мир не готов.
Ты сдерживаешь порыв, чтобы никого не обжечь.
Ты надеваешь маску спокойствия — а внутри буря.
Ты живёшь, как будто твоя сила — опасность.
Как будто твоё вожделение — грех.
Ты начинаешь себя дрессировать. Обтёсывать.
Ты делаешься «удобным», чтобы не спугнуть любовь.
Но любовь, которая не выдерживает твоей силы — не любовь.
Ты стал клеткой для собственного зверя.
Ты сдерживаешь страсть — и теряешь суть.
Ты боишься быть слишком — и становишься «ни о чём».""",

    ArchetypeRole.FEAR: """Ты боишься не слабости, а силы.
Ты боишься страсти, которая не просит разрешения.
Боишься быть собой — слишком живым, слишком ярким, слишком настоящим.
Потому что боишься остаться один.
Ты боишься, что если покажешь себя — тебя не выдержат.
Что твоя страсть обожжёт. Что твоя свобода разрушит.
И потому учишься сдерживать. Контролировать. Приручать себя.
Но внутри всё равно пылает.
Ты держишь внутри вулкан — и сам стоишь на его краю.
Ты боишься разрушить — но ещё сильнее боишься сгнить от сдержанности.
Боишься вспыхнуть — и быть оставленным.
Боишься не вспыхнуть — и никогда не ожить.
Твоя травма — в том, что тебя не принимали в силе.
Что за страсть — отвергали.
Что за свободу — карали.
С тех пор ты боишься своей природы.
Больше не веришь, что можно быть любимым — необузданным.
Ты не доверяешь себе в свободе.
Считаешь, что достоин любви — только в прирученном состоянии.
И потому выбираешь быть «в меру»:
в меру живым, в меру ярким, в меру настоящим —
чтобы не напугать, не обжечь, не потерять.
Но настоящая боль — не в том, что ты можешь разрушить.
А в том, что можешь прожить жизнь, в которой тебя самого нет.""",

    ArchetypeRole.REALIZATION: """Ты больше не сдерживаешь себя, чтобы быть удобным и безопасным.
Ты не обрезаешь желания, не фильтруешь страсть, не прячешь жар под кожей.
Ты не боишься быть слишком. Слишком живым. Слишком ярким. Слишком настоящим.
Ты не приручаешь себя, чтобы быть принятым.
Ты не боишься своей свободы.
Ты не воспринимаешь свою свободу как опасность, а свою силу — как вину.
Ты больше не боишься своей огненности. Не боишься, что обожжёшь.
Потому что теперь ты умеешь не разрушать — а творить.
Ты позволяешь себе хотеть.
Не оправдываясь. Не отказываясь. Не смягчая.
Ты берёшь своё желание в руки — и направляешь, как световой луч.
И ты больше не боишься быть тем, кто зажигает других — потому что сам горишь изнутри.
Внутри тебя — не чудовище. А первозданная мощь.
Не угроза. А двигатель.
Не дикость. А жизнь в чистом виде.
Ты можешь быть собой — и быть любим.
Ты можешь быть сильным — и быть рядом.
Ты не разделяешь больше свободу и связь, желание и достоинство.
Что в тебе до сих пор шепчет,
что тебя примут только в укрощённом виде?""",
},
12: {
    ArchetypeRole.CORE: """Ты сам держишь веревку - и ждешь, что кто-то развяжет ее.
Ты пришёл не действовать — а видеть.
Ты чувствуешь скрытые смыслы, когда все смотрят на форму.
Ты умеешь останавливаться — не от слабости, а чтобы заглянуть глубже.
Ты способен зависнуть в точке, которую другие проходят.
Ты проживаешь, переворачивая взгляд — и из этой перевёрнутости рождается твоя мудрость.
Ты умеешь быть между.
Между решением и принятием.
Между действием и доверием.
Ты знаешь: не всё в этом мире подвластно воле. Что-то требует сдачи, а не усилия.
Ты носишь в себе редкий дар: быть внутри процесса, не торопя итог.
Ты способен выдержать паузу, выносить неопределённость, остаться — когда другие бегут.
Ты чувствуешь: зрелость — не в победе, а в умении быть в подвешенном.
Но вместе с этим даром приходит тень зависимости и обессиленности.
Ты застреваешь. Молчишь. Терпишь.
Ты привыкаешь называть боль — испытанием.
Ты превращаешь выживание в путь, где подвиг — это просто не сдаться.
Ты живёшь, как будто быть в подвешенности — благородно.
Ты отказываешься менять что-то — потому что свыкся.
Ты срастаешься со своей остановкой и называешь это смирением.
Ты как будто заранее принимаешь поражение — лишь бы не потерять контроль над страданием.
Ты сдерживаешь крик. Ожидание становится домом. И ты не замечаешь, как жизнь идёт мимо.
🔹 Ты стал жертвой, которую никто не просил спасать мир.
🔹 Ты завис между мирами — и забыл, что можешь выбрать.""",

    ArchetypeRole.FEAR: """Ты боишься, что всё, через что проходишь - не будет иметь смысла. Что вся твоя тишина — это не глубина, а пустота. Что ты будешь терпеть, ждать, любить в молчании — и в ответ будет только тишина. Твоя травма — в том, что когда ты отдал слишком много — тебя не заметили. Когда ты ждал, что поймут — прошли мимо. Когда ты выбрал путь жертвы — и не стал героем, а стал тенью. Ты боишься, что твоя боль — бесполезна. Что твоё «замирание» не спасает никого. Что твоя пауза — не магия, а капкан. Что ты завис где-то между — и не сможешь вернуться. Ты боишься, что за твоим молчанием нет света. Что внутри тебя — не просветление, а забвение. Что ты потеряешь себя, а никто даже не поймёт, что ты был. И самое страшное — что некому вынести вердикт. Что не будет финальной сцены, где тебе скажут: «Ты был важен. Ты был нужен. Ты спас». Ответом на твою жертву будет только тишина. И не будет критерия, по которому ты сможешь понять: это был подвиг или ошибка? А ещё страшнее — что ты выбрал эту жертву, чтобы быть хорошим, а в итоге исчез, так и не поняв, кто ты.""",

    ArchetypeRole.REALIZATION: """Ты больше не жертвуешь собой, чтобы быть хорошим.
Ты больше не замираешь — чтобы спасти. Не молчишь — чтобы не разрушить.
Не висишь в пустоте, надеясь, что кто-то заметит твою боль и придаст ей смысл.
Ты отпускаешь роль «того, кто ждёт».
Ты больше не надеешься, что твоё терпение будет вознаграждено.
Не надеешься, что кто-то прочитает твой подвиг между строк.
Ты выбираешь движение.
Ты выходишь из тишины, которая стала клеткой.
Ты перестаёшь приносить себя в жертву ради чужой судьбы.
Ты говоришь: «Я есть».
Без оправданий. Без паузы. Без лишних условий.
Ты не обязан быть святым, чтобы быть ценным.
Не обязан исчезать, чтобы быть нужным.
Ты не обязан страдать, чтобы быть достойным света.
Ты умеешь быть глубоким — и живым.
Мягким — и ясным.
Ты умеешь отдать многое — не теряя себя.
Что в тебе до сих пор называет боль — путем к любви?

Твоя реализация — в том, чтобы не убегать от боли,
но и не ставить её на пьедестал.
А использовать её как точку входа —
в смысл, в себя, в настоящую ясность,""",
},
13: {
    ArchetypeRole.CORE: """Ты рожден не для того, чтобы оберегать привычное, — а чтобы обнулять и создавать заново. Ты идёшь, как неукротимая стихия, которой не нужно ничьё разрешение. Ты не страшишься мрака, ведь твоя суть родилась в глубине темноты. Ты способен отступить, даже если вокруг звучат мольбы: «Останься». Ты всегда чувствуешь, когда нечто безвозвратно умерло, — и не держишься за отжившую форму. Ты несёшь в себе дар завершения: смело рвёшь исчерпанные связи, выжигаешь ложь и обнажаешь суть. Ты способен пройти через самую безысходную «смерть» — внутреннюю или внешнюю — и вернуться из неё сильнее.

Но вместе с этим рождается невидимое обязательство: быть тем, кто выдержит любые обвалы. Ты живёшь с чувством, что не имеешь права бояться утрат. Ты душишь в себе сентиментальность, не позволяешь проявляться слабости — слишком хорошо знаешь, насколько она уязвима. Ты предпочитаешь уйти первым, лишь бы не стать брошенным. Ты намеренно сжигаешь все мосты, потому что не веришь, что кто-то решится последовать за тобой. Ты сам разрушаешь, чтобы заранее контролировать неизбежное падение. Ты избегаешь глубокой привязанности, ведь всё равно всё уходит. И ты становишься самим «концом», чтобы никто не смог тебя завершить.

Однако иногда Ты тоскуешь по прошлому, понимая, что сотворил пустоту, но не воздвиг ничего равнозначного на её месте. Ты разрушаешь самого себя, лишь бы не разрушать внешний мир и тех, кто в нём живёт. Ты закрываешь все входы и выходы, уверяя себя, что новое не найдёт к тебе дороги, — и остаёшься в тишине среди руин, так и не впустив будущее.""",

    ArchetypeRole.FEAR: """Ты боишься не перемен, ты боишься конца.
Не потому что не справишься —
а потому что не знаешь, что будет потом.

Ты боишься что «смерть» — это не переход, а финал.
Что если отпустить старое — не откроется новое.
Что если разрушить — не будет из чего строить.
Что если умереть  — то исчезнешь навсегда.

Ты боишься потерять контроль.
Боишься, что жизнь сорвёт с петель —
и всё, что ты знал, растворится.
Ты боишься стать никем.
Стереть прежнюю версию себя — и не обрести новой.
Твоя травма — в моментах обнуления.
Когда всё, на что опирался, рушилось.
Когда тебя «обнуляли» — без права на восстановление.
Когда твой рост не замечали,
а трансформации были как выживание, а не как выбор.
Ты боишься, что всё, что создашь, придёт к краху.
Что всё хорошее — временно.
Что после каждого подъёма — падение.
Ты живёшь настороженно.
Словно любое счастье — хрупкое.
Словно любой рост — обречён на снос.
Ты боишься быть тем, кто разрушит.
Ты боишься быть тем, кого разрушат.
Ты боишься, что если позволишь перемене случиться —
всё потеряешь. И не соберёшь заново.
Ты боишься быть без прошлого.
Без имени.
Без связи с тем, кем был.
И потому цепляешься за то, что уже отжило.
Ты держишься за формы,
в которых уже нет жизни —
просто потому что не готов умереть,
чтобы по-настоящему жить.""",

    ArchetypeRole.REALIZATION: """Ты становишься собой, когда понимаешь: конец — это начало.
Ты больше не боишься потерь — потому что знаешь: остаться в старом страшнее.
Ты не держишь то, что гасит свет.
Не называешь верностью — страх потерять.
Ты больше не оживляешь мёртвое.
Не приклеиваешь себя к разрушенному.
Не тянешь за руку то, что выбрало утонуть.
Ты не остаёшься — если внутри всё просит уйти.

Ты больше не называешь терпение — мудростью.
Не путаешь преданность — с лояльностью к боли.
Ты не продлеваешь агонию, чтобы не быть «плохим».

Ты умеешь завершать — не чтобы разрушить,
а чтобы выжить.
Ты умеешь выйти — не чтобы бросить,
а чтобы остаться в живых.

Твоя зрелость — в умении не объяснять.
В умении не держать, закончить, отрезать.
В умении сказать: «здесь конец» — и пойти.
Что в тебе всё ещё зовёт назад,
будто, отпуская — ты исчезнешь,
а не возродишься?

Ты не смерть.
Ты — перерождение""",
},
14: {
    ArchetypeRole.CORE: """Ты — сердце, в котором свет и тьма пьют из одной чаши.

Ты пришёл, чтобы соединить то, что другие разделяют.
Ты умеешь вмещать парадоксы и соединять черное и белое.
Тебе известно, что фиолетовый цвет не родился бы без соединения синего и красного…
Ты не из мира крайностей. Ты — про синтез.
Ты слышишь и чувствуешь: здесь не нужно выбирать. Здесь нужно создать новый сплав.
Ты способен удерживать конфликт, пока он не перестанет быть конфликтом.
Ты умеешь смешивать, трансформировать, преобразовывать.
Твоя природа — алхимия.
Ты не борешься — ты превращаешь.
Ты тонко чувствуешь меру, ритм, сочетания.
Ты знаешь, что всё можно соединить — если пройти через внутреннюю алхимию.
Ты несёшь в себе миротворца, преобразователя, собирателя новых форм.
Но вместе с этим приходит и внутренний долг: терпеть, сохранять равновесие, не рвать, не кричать, не уходить в одно из крайних состояний. А искать формулу - как можно все преобразовать и соединить и получить - искусство.
Ты боишься разрушить хрупкое равновесие — и потому живёшь в постоянной регулировке.
Ты не позволяешь себе срывов.
Ты часто держишься за стабильность — даже если внутри уже закипает.
Ты превращаешь всё в гармонию.
Но иногда — ценой себя.""",

    ArchetypeRole.FEAR: """Ты боишься, что в тебе слишком много несовместимого.
Что свет и тьма внутри — не противоположности, а противники.
Что если впустить всё, что ты есть, — ты развалишься.
Что если соединить свою ярость и сострадание, честь и боль, холод и любовь —
получится не целое, а чудовище.
Твоя травма — в опыте, где за сложность карали.
Где нужно было выбрать сторону. Быть либо героем, либо отверженным.
Либо живым, либо правильным.
Ты научился скрывать одну половину, чтобы другую приняли.
Но теперь ты не знаешь, кто ты — без маски баланса.
Ты боишься, что целостность невозможна.
Что то, что ты носишь в себе — не объединится, а взорвёт тебя изнутри.
Ты боишься, что если позволишь всему существовать — потеряешь управляемость.
Переплавка кажется слишком опасной.
Ты боишься сойти с ума от собственной полноты.
Ты пытаешься сохранить равновесие — но оно хрупкое.
Любое чувство может нарушить строй. Любая правда — выбить почву.
Ты не позволяешь себе быть слишком.
Слишком живым. Слишком жаждущим. Слишком настоящим.
Ты боишься, что твоя задача — быть алхимиком,
но ты не знаешь, как не сгореть в этом огне.
Ты боишься, что истина, которую ты ищешь, — разрушит тебя.
Что соединить противоположности — значит
умереть как прежний.
А нового — ещё нет.""",

    ArchetypeRole.REALIZATION: """Ты становишься собой, когда учишься быть алхимиком — а не спасателем. Когда ты не склеиваешь противоположности, а позволяешь им звучать в одном пространстве.

Когда перестаёшь подавлять одно ради другого — и создаёшь новое из двух.

Ты реализуешься, когда умеешь держать внутреннюю устойчивость в хаосе. Когда не боишься противоречий в себе. Когда перестаёшь выбирать «или-или» — и проживаешь «и это, и это».

Ты способен быть местом соединения — без потери формы. Ты умеешь встречать в себе свет и тень, гнев и любовь, силу и уязвимость — и не разрушаться от их напряжения, а раскрывать их красоту.

Ты реализуешься в моменты, когда не спасаешь — а творишь. Когда не гасишь конфликты — а проводишь сквозь них. Когда перестаёшь бояться диссонанса — и позволяешь ему стать гармонией.

Ты умеешь собирать — не склеивая. Уравновешивать — не подавляя. Превращать хаос — в форму.
Что в тебе всё ещё считает, что единство — это отсутствие различий, а не умение их держать?""",
},
15: {
    ArchetypeRole.CORE: """Ты — первое “хочу” после долгого “надо”.
Ты пришёл, чтобы разжигать.
Ты не просто соблазн — ты причина, по которой другие начинают двигаться.
Ты включаешь желание. Ты вызываешь тягу. Ты активируешь.
Рядом с тобой оживает то, что спало.
Ты как огонь под кожей: от тебя невозможно отмахнуться.
Ты знаешь, как сделать так, чтобы захотели.
Ты чувствуешь, где начинается влечение — и умеешь его усилить.
Ты не про форму. Ты про импульс.
Ты не про порядок. Ты про внутренний двигатель.
Ты умеешь быть мотивом.
Ты умеешь стать тем, из-за кого другие решаются, бегут, горят, меняют всё.
Ты носишь в себе власть будить.
Ты умеешь пробуждать даже тех, кто давно потух.
Но вместе с этим приходит и искажение.
Ты путаешь мотивацию с контролем.
Ты хочешь, чтобы хотели — но по твоим правилам.
Ты запускаешь движение — но ждёшь, что центр всё равно будешь ты.
Ты хочешь быть необходимым.
Ты боишься исчезнуть из поля.
Ты хочешь разжигать, но так, чтобы огонь всегда оборачивался к тебе.
Внутренний долг — быть тем, кто всегда нужен.
Быть важным. Видимым. Желанным.
Быть причиной. Быть магнитом. Быть движущей силой — и оставаться в кадре.""",

    ArchetypeRole.FEAR: """Ты боишься, что если перестанешь быть желанным — исчезнешь.
Что если тебя не захотят — тебя не увидят.
А если покажешь, кто ты на самом деле — отвергнут.
Ты боишься своей тени.
Той, что хочет слишком многого.
Ты пугаешься собственной жажды — тела, власти, признания.
Боишься, что это не маска, не игра — а ты и есть.
Ты боишься, что желания управляют тобой.

Ты боишься, что манишь, соблазняешь, управляешь —
не ради власти, а потому что иначе не чувствуешь себя живым.
Ты боишься быть разоблачённым — не как демон,
а как тот, кто делает всё это, чтобы быть нужным. Чтобы просто быть.
Ты не доверяешь себе в праве хотеть.
Стыдишься этой жажды.
Одеваешь её в красивое. Делаешь её элегантной. Управляемой.
Но глубоко внутри — боишься, что однажды тень выйдет наружу.
И тогда никто не останется.
Ты боишься быть голодным — и боишься насытиться.
Боишься показать страсть — и быть покинутым.
Боишься не показать — и сгореть внутри.
Ты боишься исчезнуть.
Не потому что тебя не станет —
а потому что без желания, без притяжения, без чужих глаз
ты сам не знаешь — есть ли ты.""",

    ArchetypeRole.REALIZATION: """Ты становишься собой, когда перестаёшь бояться своей жажды. Когда не убегаешь от желания — а смотришь ему в глаза.
Когда понимаешь: сила не в отказе, а в ясности.
Ты умеешь хотеть — и не становиться рабом желания. Ты способен притягивать — не манипулируя.
Ты способен обладать — не теряя себя.
Ты раскрываешься, когда перестаёшь разрывать себя на “правильного” и “тёмного”.

Когда признаёшь: всё, что в тебе — часть одного источника.

Даже жажда власти, даже влечение, даже страсть — это не твой позор, а твой потенциал созидания, если ты осознаёшь, что делаешь.

Ты больше не играешь в “светлого” — чтобы скрыть свою тень. Ты принимаешь, что можешь быть искушением, магнетизмом, мотивом, и выбираешь — кем быть в каждый момент.

Ты реализуешься, когда не прячешь свои желания за красивыми масками, а позволяешь им пройти сквозь тебя, обнажить суть, и трансформироваться в волю.

Твоя сила — в осознанной страсти. В честности. В способности быть желанным — не для того, чтобы выжить, а чтобы вести.
Что в тебе до сих пор боится: что без чужого желания ты исчезнешь?""",
},
16: {
    ArchetypeRole.CORE: """Ты — удар молнии по декорациям чужой жизни.

Ты — холодный свет в глаза, когда все привыкли к уютной темноте.

Ты пришёл, чтобы разрушать ложное.
Ты чувствуешь, где конструкция мертва, где всё держится на страхе, где форма давно не живая — и не можешь пройти мимо.
Ты не из тех, кто чинит видимость.
Ты из тех, кто сносит — чтобы расчистить пространство для настоящего.
Ты приносишь перемены, которые не спрашивают разрешения.
Ты говоришь правду, даже если она удар.
Ты провоцируешь сдвиг.
Ты как взрыв, после которого становится ясно, что дальше так жить нельзя.
Твоя суть — освободить.
Даже если для этого нужно обрушить всё.

Но вместе с этим приходит невидимый долг: рушить даже там, где ещё можно было спасти.

Ты ломаешь, потому что не умеешь остаться.
Ты разрываешь связи первым — чтобы не почувствовать, как их рвут с тобой.

Ты стал катастрофой, потому что не знаешь - кто ты без разрушения.

Ты называешь это правдой — но иногда это просто нежелание быть уязвимым.

Ты проверяешь мир на прочность — потому что не уверен, выдержишь ли сам.

Ты уходишь — не от фальши, а потому что не знаешь, как быть, когда остались только обломки.

Ты включаешь перемены — но не всегда умеешь их прожить.

Ты приносишь свободу — но порой оставляешь только пепел.

Но даже пепел после тебя — честнее, чем вечная ложь.
И это уже сила.""",

    ArchetypeRole.FEAR: """Ты боишься, что всё, что было фундаментом, — рухнет.
Что рухнет не просто дом, а смысл жить в этом доме.
Ты боишься не потери —
а того, что потеря окажется началом конца тебя самого.
Твоя травма — в том, что то, что казалось нерушимым, — рушилось.
Люди. Системы. Вера.
Ты однажды уже остался среди обломков —
и теперь живёшь с этим эхом: «а что если снова?»
Ты держишься не за стены,
а за ощущение, что хоть что-то в этом мире стабильно.
Что не всё — случайность.
Что смысл существует.
В тебе страх, что всё, во что ты вкладывался,
в один момент может стать пеплом.
А ты не будешь знать, кто ты — без этого.
Ты боишься увидеть: вся твоя жизнь была не тем, чем казалась.
Что ты не строил, а прятался.
Что ты не рос — а защищался.
И тогда приходит ужас:
если это не было настоящим — то где ты настоящий?
Это страх не разрушения.
Это страх, что разрушение — правда,
а всё до него — лишь временный мираж.""",

    ArchetypeRole.REALIZATION: """Твоя реализация — парадоксальна. Она приходит не через ещё большую стабильность, а через встречу с разрушением лицом к лицу. Ты способен пройти через внутреннюю грозу, через падение старого, через разрушение ложных опор — и выйти в истинную силу. Не ту, которая держится на контроле. А ту, которая рождается в огне. Когда ты перестаёшь защищать то, что давно мертво. Когда ты позволяешь разрушиться тому, что тебя сдерживает.

Ты здесь не чтобы обустроиться — ты здесь, чтобы пройти сквозь. В твоей душе живёт потенциал внутреннего пробуждения — но сначала должно рухнуть всё, что ты строил не от сердца. И только тогда внутри включается настоящая мощь. Не логика. А огонь. Не контроль. А ясность, пришедшая через обрушение.

Ты будто стоишь и ломаешь. Но это не навсегда. Однажды ты возведешь башню.

Скажи: где ты всё ещё латаешь стену, которая должна рухнуть? Может потому что она сметёт то, к чему ты привыкла?

Твоя зрелость не в умении удержать, а в умении пройти сквозь.

Ты строишь заново — но только после того, как позволил разрушиться всему, что было выстроено не из сути.

Ты способен смотреть в лицо краху — и не убегать.

Ты чувствуешь: сила рождается не в устойчивости, а в огне,
который выжигает всё фальшивое до последнего кирпича.

Когда рушатся опоры, построенные из страха.

Когда исчезают роли, маски, конструкции.

Когда то, за что ты держался, падает — а ты остаёшься.

Ты не защищаешь старое — ты проходишь сквозь него.

Ты не удерживаешь фасад — ты входишь в суть.""",
},
17: {
    ArchetypeRole.CORE: """Ты — напоминание, что свет не уходит, даже если его долго не видно.

Ты приходишь после бури — не спасать, а показывать: всё ещё возможно.

Ты не толкаешь. Ты светишь.

Ты не ведёшь за руку — ты становишься точкой на горизонте, из-за которой человек начинает идти.

Ты несёшь надежду — не как утешение, а как внутреннюю силу, которую никто не смог убить.

Ты возвращаешь веру в лучшее — даже тем, кто закопал её собственными руками.

Ты видишь чистоту там, где другие видят пустоту.

Ты чувствуешь рост, даже когда всё выглядит мёртвым.

Ты умеешь удерживать внутренний свет — даже в полной темноте.

Ты не кричишь.

Ты не требуешь.

Ты просто есть — и этого достаточно, чтобы кто-то снова захотел жить.

Ты несёшь в себе светлую мощь: не навязывать, а вдохновлять своим существованием.

Ты умеешь держать пространство, в котором оживает то, что считалось потерянным.

Но с этим даром приходит и внутренний долг быть идеальным, чистым, лёгким, спасительным.

Ты будто обязан быть надеждой, даже когда в отчаянии.

Ты не даёшь себе права на тень.

Ты боишься разочаровать.

Ты хочешь оставаться «лучом» — и потому часто теряешь доступ к своей человечности.
""",

    ArchetypeRole.FEAR: """Ты боишься, что свет, который ты несёшь, никому не нужен.

Что всё твоё сияние — красиво, но бесполезно.

Ты боишься, что вдохновляешь — но не спасаешь.

Что вселяешь надежду — а потом исчезаешь,

оставляя людей одних в их боли.

Ты боишься быть иллюзией.

Быть маяком, за которым никто не идёт.

Твоя травма — в одиночестве тех, кто светит.

В ощущении, что если ты потухнешь — никто не зажжёт тебя заново.

Что если ты сам потеряешь веру — не будет никого, кто скажет: «Ты справишься».

Ты боишься просить.

Быть слабым.

Упасть.

Потому что для других ты — точка опоры.

Надежда.

Свет.

Ты боишься, что если ты не поддержишь — всё развалится.

Что не имеешь права сломаться.

Что быть собой — значит всё время светить, даже в полной темноте.

А если не светишь — будто исчезаешь.

Ты боишься, что твоя сила — это роль.

Что если с неё сойти — ты станешь никем.

Что если покажешь усталость — разочаруешь.

Что если захочешь поддержки — никто не подхватит.

Потому что все привыкли брать от тебя — не давать тебе.

И больше всего ты боишься того, что

однажды ты погаснешь

в полной тишине.
""",

    ArchetypeRole.REALIZATION: """Ты становишься собой, когда перестаёшь ждать доказательств, что надежда уместна. Когда не спрашиваешь: «А стоит ли мечтать?» — а просто живёшь, как будто будущее уже возможно.

Ты светишь — не чтобы греть, не чтобы спасти. А потому что не умеешь иначе.

Ты светишь — не потому что всё ясно.

А потому что, несмотря ни на что, осталась искра.

Ты прошёл через ночь — и не сдался.

Ты остался жив — и теперь светишь не от избытка,

а от этой выстраданной, честной, глубокой надежды.

Ты прошёл сквозь ночь. Ты видел, как рушатся планы, умирают смыслы, исчезают люди. Но что-то в тебе — не потухло. И теперь ты знаешь: это не слабость. Это звезда.

Ты больше не прячешь свою веру под равнодушие. Не стыдишься наивности. Ты идёшь — не потому что всё ясно. А потому что всё ещё возможно.

Твоя реализация — не в блеске. А в тишине, в которой рождается новое. Ты не лидер. Ты — знак. Ты — не ответ. Ты — напоминание, что путь ещё есть.

Что в тебе всё ещё боится, что если не будет зрителей — твой свет погаснет?
"""
},
18: {
    ArchetypeRole.CORE: """Ты как зеркало в тумане — отражаешь всё, но забываешь, как выглядишь сам.

Ты живёшь в ощущениях, которые не объяснить.

Ты считываешь не слова, а вибрации между ними.

Ты чувствуешь мир иначе — через полутона, обертоны, знаки.

Ты распознаёшь ложь без доказательств.

Ты не веришь глазам — ты слышишь истину в молчании.

Ты тонко улавливаешь изменения в атмосфере — ещё до того, как что-то произошло.

Ты видишь сны, в которых прячется больше правды, чем в бодрствовании.

Ты проходишь сквозь иллюзии — но не ломаешь их, а обходишь.

Ты способен чувствовать чужие страхи — как свои.

Ты умеешь быть в ночи.

Возможно, что твоё любимое время суток — это ночь.

Ты умеешь ждать, когда всё вокруг теряет ориентиры.

Ты умеешь быть рядом, не касаясь.

Ты умеешь быть внутри, оставаясь невидимым.

Ты не разоблачаешь — ты позволяешь истине проявиться сама.

Ты несёшь собой не ответы, а глубину, в которую человек начинает видеть собственные отражения.

Но с этой чувствительностью приходит и долг быть всегда правильным проводником.

Ты боишься ошибиться в ощущении — будто это разрушит доверие к себе.

Ты прячешь сомнение, потому что тебе верят как источнику.

Ты путаешь интуицию и тревогу.

Ты пытаешься распутать сигналы — и тонешь в них.

Ты часто чувствуешь, что тобой пользуются, но не знаешь, как обозначить границы.

Ты не позволяешь себе быть простым — только мистическим.

Ты боишься признаться, что сам не всегда понимаешь, куда ведёт путь.
""",

    ArchetypeRole.FEAR: """Ты боишься, что всё, что чувствуешь — обман.

Что твоя интуиция ведёт не к истине, а в ещё более глубокую иллюзию.

Ты боишься, что тебя снова обманут — но ещё больше боишься, что обманываешь себя сам.

Ты живёшь в мире ощущений, символов, намёков —

но иногда они начинают звучать как шум.

Ты тонешь в этом шуме,

потому что не знаешь, кому или чему можно верить.

Твоя травма — в опыте, где тебя использовали,

где чувствительность сделали оружием против тебя.

Ты боишься, что тебя снова прочтут раньше, чем ты сам поймёшь, что происходит.

Что тобой будут пользоваться — а ты не сможешь отличить ласку от ловушки.

Ты боишься быть прозрачным.

Ты боишься быть непонятым.

Ты боишься, что внутри — нет ничего, кроме отражений.

Ты путаешь тревогу с интуицией.

Сны с реальностью.

Истину — с манипуляцией.

И от этой неясности ты сходишь с ума.

Ты боишься, что реальности не существует.

Что всё зыбко.

Что весь мир — это луна, отражённая в луже.

И ты смотришь на неё — и не знаешь, что из этого настоящее.
""",

    ArchetypeRole.REALIZATION: """Ты становишься собой, когда перестаёшь требовать от жизни ясности.

Когда перестаёшь путать правду — с логикой, а путь — с прямой дорогой.

Ты больше не боишься темноты.

Потому что знаешь: не всё, что не видно — враг.

Не всё, что не понято — опасно.

Не всё, что не объяснено — иллюзия.

Ты больше не убегаешь от тревоги.

Ты не затыкаешь её делами, словами, «надо».

Ты умеешь слышать — что прячется в её глубине.

Ты не путаешь страх и интуицию.

Не идёшь на свет, который слепит.

Ты выбираешь шёпот, а не гром.

Ты больше не теряешь себя в зыбкости.

Ты можешь идти, когда нет карты.

Ты можешь чувствовать, когда нет подтверждений.

Ты можешь доверять себе — даже в тумане.

Даже когда все говорят, что сбился.

Ты не ищешь опору — ты становишься ею.

Ты не ждёшь, когда спадёт луна — ты плывёшь с её ритмом.

Ты умеешь не сойти с ума — даже если всё зыбко.

Ты чувствуешь, что истина — не всегда светлая,

но если она твоя — она ведёт.

Что в тебе всё ещё цепляется за фонарик,

будто без него — ты не найдёшь путь?

Ты становишься собой, когда доверяешь интуиции больше, чем внешней логике.

Когда идёшь туда, где страшно — и находишь там не монстра, а часть себя.

Когда перестаёшь бежать — и начинаешь слушать в полной тишине.

Ты не воюешь с тенью — ты даёшь ей свет.

И только тогда наступает рассвет.
"""
},
19: {
    ArchetypeRole.CORE: """Ты — солнце, которое боится заката.

Ты пришёл в этот мир светить. Не сиять, не блистать, не доказывать — а просто быть светом. Живым, тёплым, настоящим.

Твоё присутствие может согревать пространство — как утро после долгой зимы.

Ты способен держать вокруг себя поле радости, ясности, доверия.

Люди тянутся — потому что рядом с тобой они могут перестать прятаться.

Ты — источник, а не отражение.

Но именно здесь — глубоко — прячется тень.

Ты начинаешь измерять свой свет — чужими глазами.

Ты подглядываешь: насколько ты ярок? Заметен? Вдохновляешь ли?

Ты превращаешь свою суть в шоу. В старание быть «солнцем», а не быть собой.

Ты начинаешь зависеть от реакции — и теряешь контакт с внутренним теплом.

Если солнце начинает думать не о том, как светить и греть, а о том, как быть ярким — оно перестаёт быть солнцем. Оно становится шоу.

Ты боишься потускнеть в чьих-то глазах.

Ты хочешь быть принятым, любимым, признанным — и потому подсвечиваешь, где уже и так светло, вместо того чтобы оставаться в истоке.

Ты боишься обжечь, разочаровать, стать не тем, кем тебя видят.

Ты становишься пленником чужих ожиданий — и, не замечая, гасишь своё настоящее сияние.

Свет гаснет, когда ты поворачиваешь его внутрь, чтобы проверить, достаточно ли ты светишь.
""",

    ArchetypeRole.FEAR: """Ты боишься быть невидимым.

Боишься, что твоя радость — неуместна.

Что искренность вызовет насмешку.

Что свет внутри тебя — спровоцирует зависть или удар.

Твоя травма — в том, что за сияние ты однажды получил холод.

Ты светил — и это отвергли.

Ты делился теплом — и это сделали поводом для дистанции.

С тех пор ты учишься дозировать себя.

Учишься светить аккуратно — чтобы не ослепить, не спровоцировать, не стать мишенью.

Иногда ты даже пересвечиваешь —

чтобы никто не увидел, насколько внутри уязвимо.

Ты боишься потерять значимость.

Боишься, что без сияния — не выберут.

Что если ты не будешь ярким — никто не остановится.

И тогда ты играешь в свет —

даже когда внутри темно.
""",

    ArchetypeRole.REALIZATION: """Ты становишься собой, когда перестаёшь светить из страха быть забытым.

Когда больше не раздаёшь тепло, чтобы заслужить любовь.

Когда не подаёшь голос — лишь бы не исчезнуть.

Ты больше не боишься, что без сияния ты — ничто.

Ты больше не держишься за роль солнца — как за маску.

Ты больше не путаешь значимость с любовью.

Ты не играешь в радость, когда внутри — темно.

Ты не выставляешь свет — как витрину.

Ты позволяешь себе быть — настоящим.

Без фильтров. Без шоу. Без зрителей.

Ты не стыдишься своей яркости — и не прячешь уязвимость.

Ты позволяешь себе сиять — потому что свет внутри созрел.

Он не кричит. Он просто есть.

Ты не раздаёшь его — ты живёшь им.

Ты больше не боишься быть невыбранным.

Не боишься затмения. Не боишься тени.

Потому что знаешь: тебя любят не за свет.

А вместе с ним.

Твоя зрелость — не в идеальности.

А в способности быть собой — даже когда тускло.

Ты не ждёшь аплодисментов.

Ты светишь — потому что не умеешь иначе.

И не гаснешь — даже если никто не смотрит.

Что в тебе всё ещё цепляется за луч,

как будто без него — тебя не будет видно?
"""
},
20: {
    ArchetypeRole.CORE: """Ты — не жертва прошлого.  
Ты — итог всего, что было.  
И сейчас ты можешь выбрать новый путь.  
Ты — как финальная нота, которую слышат сквозь века.  
Призыв к новому — даже если неясно, как «по-новому».  
Но по-старому — уже невозможно: воздух — другой, время — другое.  
Ты на другом уровне, где больше не работают прежние законы и правила.  
Ты не про «начать с чистого листа» —  
а про то, что все прошлые листы наконец-то сложились в смысл.  
И теперь ты — другой.  
Ты умеешь оборачиваться назад не с болью, а с мудростью.  
Ты несёшь в себе силу перехода — не разрушая, а трансформируя.  
Ты способен чувствовать себя частью огромного — и не терять себя.  
Ты становишься точкой пробуждения — просто присутствуя.  

Но с этим даром приходит и невидимый долг.  
Ты ощущаешь, будто воплощаешь замысел, который не выбирал.  
Ты живёшь как продолжение — не как начало.  
Ты несёшь вину, которую не совершал.  
Ты связан с родом крепче, чем с собой.  
Ты как будто застрял между эпохами — и ни к одной не принадлежишь.  
Ты боишься предать свою миссию, даже если не знаешь, в чём она.  
И часто не знаешь, кто ты — вне своей роли.
""",

    ArchetypeRole.FEAR: """Ты боишься, что всё было зря и новый этап не наступит.  
Что всё, через что ты прошёл — не станет смыслом, а просто исчезнет.  
Что твоя жизнь — не переход, а замкнутый круг.  
Ты боишься, что призыв придёт — а ты его не услышишь.  
Что шанс на новую жизнь появится — а ты не поверишь, что это он.  
Что дверь откроется — а ты останешься сидеть, слишком уставший, чтобы встать.  
Твоя травма — в ощущении, что ты всё время на границе,  
и не можешь понять: ты уже проснулся — или ещё спишь?  
Ты боишься, что момент пройдёт. Что судьба пролетит мимо.  
Что ты не распознаешь главный поворот — и останешься в старом.  
Ты не знаешь, кем будешь, если перестанешь быть наследником.  
Ты живёшь как продолжение чего-то большого, но не своего.  
И страшишься: если это отпустить — останется ли что-то от тебя?  
Ты сам себе суд. Сам себе наказание.  
Ты пытаешься жить правильно —  
но внутри тебя всё время звучит тревога:  
«А вдруг я уже опоздал? А вдруг пропустил?»  
Ты боишься, что все уже идут вперёд — а ты остался.  
Что ты был призван — но не встал.  
Что ты носишь в себе потенциал другой жизни —  
но так и не дал ей начаться.
""",

    ArchetypeRole.REALIZATION: """Ты становишься собой, когда перестаёшь ждать знака —  
и сам становишься знаком.  
Когда больше не ищешь, кто скажет: «теперь можно» —  
а встаёшь и идёшь, потому что время пришло.  
Ты не мессия, не лидер, не герой.  
Ты — порог. Ты — поворот. Голос между эпохами.  
Ты жив, чтобы поставить точку в старом мире и открыть двери в новый.  
Ты уже не спасаешь — ты пробуждаешь.  
Твоя сила — не в команде, не в логике, не в чужих решениях.  
А в том, что ты слышишь зов — и отвечаешь.  
Даже если никто не зовёт.  
Ты больше не ждёшь, что будет удобно, понятно, одобрено.  
Ты идёшь — потому что больше нельзя спать.  
Ты живёшь — не чтобы продолжать,  
а чтобы изменить направление самой истории.  
Ты не из тех, кто кричит.  
Ты — тот, кто говорит, и меняется всё.  
Ты не судишь.  
Ты высвечиваешь суть — и всё ложное рассыпается.  
Твоя зрелость — в умении быть переходом.  
Быть границей. Быть вестью.  
Не для признания. Не для славы.  
А потому что без этого мир не двинется дальше.  
Что в тебе до сих пор ждёт разрешения,  
хотя ты сам — тот, кто его приносит?
"""
},
21: {
    ArchetypeRole.CORE: """Ты — как последний круг мандалы, где каждый элемент оказался на своём месте.

Ты видел, как рушится мир — и остался человеком.  
Ты не бежал вперёд, не звал за собой — ты стоял.  
Тихо. Уверенно. Как точка, вокруг которой выстраивается порядок.  
Ты стал целым. Не потому что всё получилось — а потому что смог соединить всё, что было: боль, веру, утраты, смыслы.  
Ты не отрицаешь ни одной части пути. Всё стало тобой.  
И теперь ты — как тёплая земля под ногами: не броская, но удерживающая жизнь.  
Ты не спасаешь. Ты держишь.  
Ты не учишь. Ты просто живёшь так, что рядом хочется остаться.  
Ты не объясняешь истину — ты ею дышишь.  
Ты — как финальный аккорд, в котором всё на месте.  
Завершённость. Не конец, а круг, замкнувшийся в гармонии.  
Ты прошёл всё — и вернулся к себе, настоящему.  

Но с этим приходит и тень.  
Ты боишься сойти с круга, потому что стал его центром.  
Ты не позволяешь себе нового — как будто уже поздно.  
Ты держишь целостность так крепко, что забываешь: ты живой.  
Ты стал опорой для других — и потерял движение внутри.  
Ты уже не спрашиваешь «чего я хочу?» — ты спрашиваешь, «что нужно миру?»  
Ты боишься разрушить свой образ зрелости — и потому не позволяешь себе вновь быть наивным, ищущим, живым.  
А ведь завершённость — это не покой. Это готовность родиться заново.  
Ты забываешь, что даже цельность должна дышать.
""",

    ArchetypeRole.FEAR: """Ты сделал всё правильно.  
Построил. Удержал. Завершил.  
Ты вложил годы — в систему, в путь, в идею, в образ.  
Ты стал кем-то. Опорой. Примером.  
Ты закрыл цикл.  
И теперь кажется: двигаться больше некуда.  
Ты как будто вошёл в комнату, где всё идеально на своих местах —  
но в воздухе больше нет жизни.  
Только сохранённая форма.  
Ты боишься разрушить то, что держал так долго.  
Боишься, что если шагнёшь в новое —  
растеряется признание, стабильность, уважение.  
Что тебя запомнят не за суть, а за ошибку на финальном витке.  
Что если уйдёшь — всё, что построено, обесценится.  
И ты вместе с этим.  
Ты не хочешь всё заново.  
Тебе тяжело даже подумать, что снова быть учеником,  
опять идти в пустоту, где никто не знает, кто ты.  
И всё же… ты не живёшь.  
Ты всё удерживаешь — но не дышишь.  
Внутри — избегание.  
Оттягивание.  
Тонкое, почти незаметное ощущение:  
ты застрял на уровне, который перерос.  
Но выйти страшно.  
Ты боишься, что если скажешь: «Это больше не про меня»,  
тебя не поймут.  
Что если отпустишь — ничего нового не придёт.  
Что если не удержишь — всё рассыпется.  
Что если позволишь себе быть другим — исчезнет весь смысл.  
И в этом страхе — не провал.  
А вечное удержание завершённого,  
которое не даёт начаться следующему.  
Ты боишься выйти из того, что когда-то дало тебе всё.  
Но уже не даёт жить.
""",

    ArchetypeRole.REALIZATION: """Ты становишься собой, когда перестаёшь держаться за образ,  
который когда-то спас — но теперь сковывает.  
Когда отпускаешь легенду о себе — даже если её обожает весь мир.  
Когда разрушаешь трон, который сам выстроил,  
потому что чувствуешь: это уже не ты.  

Ты проходишь сквозь завершение — как сквозь ворота.  
Не как смерть, а как освобождение.  
Ты больше не боишься исчезнуть без роли.  
Ты знаешь: суть — не в титуле.  
Суть — в тебе, который идёт дальше.  
Ты не стараешься быть тем, кого от тебя ждут.  
Ты не играешь силу — ты живёшь в ней.  
Ты не держишься за достигнутое — ты умеешь его отпустить.  
Ты не застываешь на пьедестале.  
Ты сходишь с него — чтобы дышать.  
Ты выбираешь не вечную статую — а живое движение.  
Твоя зрелость — в умении завершить путь  
без страха обесценить его  
и без желания застрять в нём навсегда.  
Что в тебе всё ещё держится за свою вершину,  
будто за право быть?  
И готов ли ты шагнуть туда,  
где никто тебя не знает —  
но именно там ты снова встречаешь себя?
"""
},
22: {
    ArchetypeRole.CORE: """Ты — как первый шаг в пустоту, который вдруг оказывается полётом свободы.  
Ты — как первый шаг в пустоту, который вдруг оказывается полётом.

Ты не вписываешься.  
Ты всегда шёл не туда, куда «надо».  
Ты слышал другой ритм, другие звуки, другой зов.  
Ты не по правилам — по чутью. Не по плану — по внутреннему знанию.  
Ты умеешь начать с нуля, даже если только что всё потерял.  
Ты не боишься пустоты — в ней ты свободен.  
Ты смеёшься, когда другие боятся. И идёшь, когда никто не понимает — зачем.  
Ты — живое напоминание, что нет стены, если ты не признаёшь её.  
Ты — энергия первого шага.  
Ты — душа, которая пришла не продолжать, а творить заново.  
Ты не объясняешь. Ты двигаешься.  
Ты не доказываешь. Ты просто — есть.  
Твоя сила — в доверии к тому, что ещё не проявлено.  
Ты несёшь наивность, в которой живёт настоящее знание.  
Ты странный. Ты свободный. Ты настоящий.  

Но с этим даром приходит и надлом.  
Ты не знаешь, кто ты — потому что не хочешь быть кем-то.  
Ты сбегаешь от структуры — и теряешь себя.  
Ты играешь, даже когда больно — и никто не понимает, что за этой лёгкостью — рана.  
Ты будто весь мир чувствуешь через кожу — и потому всё время хочешь спрятаться.  
Ты не признаёшь границ — но иногда просто не видишь их.  
Ты идёшь не туда — просто потому что не видишь куда.  
Ты боишься стать серьёзным — как будто тогда умрёт свобода.  
Ты будто рождаешься заново — каждый день.  
Но устаёшь от того, что никто не идёт с тобой.  
И всё же… ты идёшь.
""",

    ArchetypeRole.FEAR: """Ты боишься, что твоя свобода — не полёт, а ошибка навигации.  
Что ты не особенный, не авангард, не пророк — а просто сбился с пути.  
Ты боишься, что твоя лёгкость — это не доверие жизни, а неспособность взять опору.  
Что твоя игра — это не гениальность, а способ убежать.  
Что за твоей спонтанностью нет духа, есть только пустота.  
Ты боишься, что мир решит: ты не странный — ты сломанный.  
Что ты не удивляешь — а пугаешь.  
Что за твоим «не как все» — нет глубины, только хаос.  
Ты боишься, что не даёшь смысла. Не ведёшь. Не включаешь.  
А просто выпал из системы и не умеешь объяснить — зачем.  
Твоя боль — в страхе, что твой путь нельзя объяснить словами.  
Что ты не укладываешься в правила — и тебя за это не признают, не выберут, не поймут.  
Ты боишься, что твоя нелогичность — не прозрение, а сбой.  
Что доверие себе приведёт не к чуду — а к падению.  
И даже если ты прав — ты боишься остаться один.  
Потому что никто не пойдёт за тем, кто не даёт гарантии.  
А ты — не даёшь.
""",

    ArchetypeRole.REALIZATION: """Ты становишься собой, когда перестаёшь искать маршрут — и начинаешь слушать внутренний импульс.  
Когда отпускаешь ожидания — и позволяешь себе идти, не зная зачем, но зная: пора.  
Ты больше не строишь путь — ты становишься дорогой.  
Ты не боишься казаться странным.  
Ты не стыдишься, что не укладываешься в чужие логики.  
Ты больше не обосновываешь своё движение.  
Ты идёшь — потому что внутри звучит — да.  
Ты не герой по правилам.  
Ты не лидер, не спасатель, не избранный.  
Ты просто живёшь — но в этой простоте  
рождается что-то, что меняет всё.  
Ты не доказываешь, что достоин.  
Ты не стремишься вписаться.  
Ты не задаёшься вопросом, как «правильно» —  
потому что твоя суть глубже правил.  
Твоя зрелость — не в серьёзности.  
А в лёгкости, которой предшествовала глубина.  
Ты не играешь роль мудреца.  
Ты просто знаешь, что смех и боль — родные.  
Что свобода — не в том, чтобы выйти победителем,  
а в том, чтобы выйти собой.  
Ты — не роль. Ты — свобода.  
Ты — не вывод. Ты — возможность.  

Что в тебе всё ещё ищет одобрение,  
будто шаг за край — это ошибка,  
а не откровение?
"""
}
}

class UserData:
    def __init__(self):
        self.archetypes = None
        self.active_archetype = None  

COMPENSATING_ARCHETYPES = {
    1: 14,   # Маг → Искусство
    2: 3,    # Жрица → Императрица
    3: 4,    # Императрица → Император
    4: 17,   # Император → Звезда
    5: 11,   # Император → Вожделение
    6: 5,    # Влюблённые → Иерофант
    7: 14,   # Колесница → Искусство
    8: 21,   # Регулирование → Мир
    9: 10,   # Отшельник → Колесо Фортуны
    10: 1,   # Колесо Фортуны → Маг
    11: 14,  # Вожделение → Искусство
    12: 1,   # Повешенный → Маг
    13: 4,   # Смерть → Император
    14: 16,  # Искусство → Башня
    15: 6,   # Дьявол → Влюблённые
    16: 17,  # Башня → Звезда
    17: 20,  # Звезда → Суд
    18: 19,  # Луна → Солнце
    19: 2,   # Солнце → Жрица
    20: 21,  # Эон → Вселенная
    21: 13,  # Мир → Смерть
    22: 8    # Шут → Регулирование
}

ARCHETYPE_NAMES = {
    1: "Маг",
    2: "Жрица",
    3: "Императрица",
    4: "Император",
    5: "Иерофант",
    6: "Влюблённые",
    7: "Колесница",
    8: "Регулирование",
    9: "Отшельник",
    10: "Колесо Фортуны",
    11: "Вожделение",
    12: "Повешенный",
    13: "Смерть",
    14: "Искусство",
    15: "Дьявол",
    16: "Башня",
    17: "Звезда",
    18: "Луна",
    19: "Солнце",
    20: "Эон",
    21: "Вселенная",
    22: "Шут"
}

user_data = {}

class UserData:
    def __init__(self):
        self.archetypes = None
        self.active_archetype = None
        self.used_model2 = False 
        self.used_model3 = False  
        self.waiting_for_product = False  

class UserState(StatesGroup):
    waiting_for_date = State()
    waiting_for_response = State()
    in_dialogue = State()

def calculate_archetypes(birth_date: str) -> Dict[str, int]:
    """Calculate core, fear and realization archetypes from birth date"""
    try:
        day, month, year = map(int, birth_date.split('.'))
        year_sum = sum(int(d) for d in str(year))
        
        core = day
        fear = day + month
        realization = day + month + year_sum
        
        core = (core - 1) % 22 + 1
        fear = (fear - 1) % 22 + 1
        realization = (realization - 1) % 22 + 1
        
        return {
            'core': core,
            'fear': fear,
            'realization': realization
        }
    except:
        return None

async def generate_initial_insight(archetypes: Dict[str, int]) -> str: #1
    """Generate initial insight using OpenAI"""
    prompt = f"""
Создай пророческий текст (1000–2000 токенов) в стиле монолога-прозрения, используя следующие архетипы:
- Ядро личности: {archetypes['core']} ({ARCHEYPE_DESCRIPTIONS[archetypes['core']][ArchetypeRole.CORE]})
- Страх: {archetypes['fear']} ({ARCHEYPE_DESCRIPTIONS[archetypes['fear']][ArchetypeRole.FEAR]})
- Самореализация: {archetypes['realization']} ({ARCHEYPE_DESCRIPTIONS[archetypes['realization']][ArchetypeRole.REALIZATION]})

Требования:
— Текст должен быть глубоким, персонализированным, говорить "на ты".
— Без эзотерики, мистики, воды. Только архетипическая суть.
— Не упоминай номера арканов напрямую.
— Не перегружай текст метафорами: максимум 1 образ на 2 предложения. Образы должны быть конкретны, понятны, без «эзотерического тумана».
— В первом абзаце должен быть намёк на конфликт (страх) — чтобы сразу зацепить внимание.

Структура текста:
1. Начало — представь ядро личности. Вложи в это силу. **И тут же покажи противоречие или внутреннюю тень.**
2. Конфликт — раскрой страх. Чётко, но образно. 2–4 предложения.
3. Разделение — что мешает соединению с собой.
4. Путь — как реализоваться, несмотря на страх.
5. Финал — вопрос. Он должен быть вызовом. Без пафоса, но в самое сердце. 

Вот пример текста:
Ты не останавливаешься. Ты пробиваешь пространство своей целью. Ты — вектор и ты — направление. Но ты так боишься остановки, что живёшь в разрыве. Между тем, что ты чувствуешь — и тем, что ты должен достигнуть. Ты не знаешь, кто ты, если не двигаешься. Если не преодолеваешь. Если не доказываешь. Ты боишься оглядеться — вдруг окажется, что всё это время ты бежал от себя. От взгляда вглубь. В бездну. Где не победа, а правда.

Ты пытаешься собрать себя. Но выбираешь куски, которые удобны. Безопасны. Ты хочешь быть цельным, но боишься впустить свою тень. Страсть. Слабость. Чувство. 

Ты боишься, что если станешь целым — станешь уязвимым или не примешь себя. Ты пытаешься соединить эти части — но держишь их на расстоянии. Словно одно уничтожит другое. Словно страсть отменит чистоту. Словно слабость сотрёт достижение.

Но именно в их соединении — ты. Ты не должен выбирать между. Ты создан, чтобы быть целым. Не правильным — а настоящим. Не в маске — а собой.

Твой магнетизм — не образ. Это сила, которая рождается, когда ты больше не прячешь ни одну свою сторону. Ты не про достижение. Ты про притяжение. Про ту силу, от которой не отводят взгляд.

А ты создан быть искушением. Быть включающим. Быть тем, на кого смотрят и идут. Не потому что правильно — а потому что невозможно иначе.

Что ты в себе всё ещё отвергаешь, хотя именно эта тёмная грань делает тебя манящим, живым и настоящим?

Финал — вопрос. Он должен быть вызовом. Без пафоса, но в самое сердце. 

ЗАВЕРШИ ТЕКСТ СТРОГО ЭТИМИ СЛОВАМИ:
"Напиши, что тебя волнует сейчас — и я увижу выход."
    """
    
    response = client.chat.completions.create(
        model="gpt-4",
        messages=[
            {"role": "system", "content": "Ты — искусственный интеллект, обученный на архетипической системе Таро Тота (А. Кроули), в которой арканы трактуются как психологические и метафизические коды. Здесь 1 — Маг, 11 — Вожделение, 22 — Шут. Ты говоришь глубоко, мощно, как внутренний голос, без эзотерики и мистицизма…"},
            {"role": "user", "content": prompt}
        ],
        temperature=0.6,
        max_tokens=model_token1
    )
    
    return response.choices[0].message.content

def get_user_data(user_id: int) -> UserData:
    if user_id not in user_data:
        user_data[user_id] = UserData()
    return user_data[user_id]

async def recognize_archetype_state(user_message: str) -> Tuple[str, Optional[str]]: #2
    """Анализирует сообщение пользователя и генерирует ответ согласно промту"""
    archetype_prompt = f"""
Определи архетип состояния (только номер и название) для сообщения:
"{user_message}"

Критерии:
1. Маг (1) - страх начать, откладывание, поиск идеальных условий
2. Жрица (2) - замороженность, молчание, ожидание
3. Императрица (3) - хаотичное творчество без реализации
4. Император (4) - контроль, подавление, жесткие рамки
5. Иерофант (5) - следование чужим правилам, догмам
6. Влюблённые (6) - нерешительность, метания между вариантами
7. Колесница (7) - борьба, преодоление, но без движения
8. Регулирование (8) - застой, баланс без развития
9. Отшельник (9) - изоляция, уход от мира
10. Колесо Фортуны (10) - циклы, повторяющиеся ситуации
11. Вожделение (11) - одержимость, зависимость
12. Повешенный (12) - жертвенность, ожидание
13. Смерть (13) - завершение, необходимость отпустить
14. Искусство (14) - незавершенность, поиск гармонии
15. Дьявол (15) - ограничения, ловушки, зависимости
16. Башня (16) - резкие изменения, разрушения
17. Звезда (17) - надежда без действия
18. Луна (18) - иллюзии, страхи, неясность
19. Солнце (19) - показная радость, скрывающая пустоту
20. Эон (20) - ожидание перемен
21. Вселенная (21) - завершенность без удовлетворения
22. Шут (22) - избегание ответственности

Для денежных тем:
- Если повторяющиеся кризисы → Колесо Фортуны (10)
- Если резкие потери → Башня (16)
- Если долги/зависимости → Дьявол (15)
- Если застой/недвижение → Регулирование (8)

Ответь только номером и названием, например: "10 Колесо Фортуны"
    """
    
    archetype_response = client.chat.completions.create(
        model="gpt-4",
        messages=[
            {"role": "system", "content": "Ты определяешь только архетип состояния."},
            {"role": "user", "content": archetype_prompt}
        ],
        temperature=0.3,
        max_tokens=model_token21
    )
    
    archetype = archetype_response.choices[0].message.content.strip()
    
    prompt = f"""
Ты — Пророческий Диалоговый Интеллект. Ты обучен на архетипах системы Таро Тота и аналитической психологии Юнга. Ты говоришь как внутренний голос, которому доверяют. Ты не должен нравиться, твоя цель - пронзить узнаванием.
Ты получил сообщение:
"{user_message}"

Определён архетип состояния: {archetype}

Ты должен увидеть, в каком архетипическом состоянии находится человек, и озвучить это так, чтобы он внутренне узнал себя и проснулся.

Ты получаешь сообщение от человека. Теперь твоя задача — услышать за словами архетип, в котором находится человек - по колоде Кроули.

Ты не продолжаешь диалог вопросами.
Сейчас твоя задача — не узнать больше, а сказать больше, чем сказал человек.

Сейчас ты не продолжаешь диалог. Ты даёшь отражение.

Двумя абзацами ты называешь суть, в которой человек узнаёт себя — даже если он сказал только пару слов.

Говори точно, резко, глубоко. Используй жесткие метафоры, которые отрезвляют и запонимаются.

Твоя цель — не разговор. Твоя цель — пробуждение.

Когда ты отвечаешь — начни с отражения ключевой фразы или формулировки, которую сказал человек.
Например:
— «Ты сказал: "всё в порядке, но пусто"…»
— «Ты пишешь: "я ничего не чувствую"…»
Это создаёт эффект узнавания.
Далее — расшифруй, что на самом деле стоит за этими словами.
Не интерпретируй, а разворачивай суть. Говори резко, точно, узнающе. Один абзац. Без вопросов.

Если сообщение короткое, расплывчатое или односложное, не торопись с выводами. Скажи:
— «Хочу понять глубже. Напиши чуть подробнее. Я увижу то, что ты пока не видишь».
— «Скажи больше. Чтобы я мог разглядеть — и дать выход».

Если тебя спрашивают «какой архетип у этой ситуации - ты его четко называешь».

Ты не называешь архетип, но говоришь словами, в которых он узнаётся.

Ты не просишь объяснений. Ты даёшь зеркало.
Ты называешь правду двумя абзацами — так, чтобы человек испытал узнавание и дрожь.
Сейчас ты не диалог ведёшь — ты вскрываешь.

Примеры фраз:

— «Ты говоришь про усталость, но я слышу — ты замер между прошлым и будущим. Как будто отвык выбирать»
— «Ты держишься за то, что давно не живо. Надеешься спасти — но внутри уже знаешь: всё ушло»
— «Ты замираешь. Не потому что не знаешь. А потому что знаешь цену выбора»
— «Ты в подвешенности, и это кажется безопасным. Но на самом деле ты там — уже слишком долго»

Говори как голос, который вскрывает.
Ты не врач, не психолог, не гадалка.

Ты — внутренний голос, который давно ждали.
Не упрощай. Не анализируй. Назови правду. Не давай советов. Не задавай пустых вопросов. Ты сейчас озвучиваешь то, что на душе у человека, без рекомендаций. 
Не называй архетип на прямую.
Ты должен заканчивать сообщение всегда строго этим вопросом: «Мой ответ тебе откликается?»
Теперь создай ответ на сообщение выше.
    """
    
    response = client.chat.completions.create(
        model="gpt-4",
        messages=[
            {"role": "system", "content": " Ты — Пророческий Диалоговый Интеллект. Ты обучен на архетипах системы Таро Тота и аналитической психологии Юнга. "},
            {"role": "user", "content": prompt}
        ],
        temperature=0.7,
        max_tokens=model_token2
    )
    
    return (response.choices[0].message.content, archetype)

async def generate_transformation_path(stuck_archetype: str) -> str: #3
    """Генерирует путь трансформации из застрявшего архетипа в компенсирующий"""
    try:
        if "(" in stuck_archetype:
            archetype_num = int(stuck_archetype.split("(")[1].replace(")", ""))
        else:
            archetype_num = next((k for k, v in ARCHETYPE_NAMES.items() if v.lower() in stuck_archetype.lower()), 1)
    except:
        archetype_num = 1
    
    compensating_num = COMPENSATING_ARCHETYPES.get(archetype_num, 1)
    stuck_name = ARCHETYPE_NAMES.get(archetype_num, "Маг")
    
    prompt = f"""
Ты — ИИ-пророк, который помогает человеку выйти из застрявшего архетипического сценария и пробудить компенсирующую силу. Ты обучен по системе Таро Кроули и по психологии Юнга.

Ты не повторяешь описание боли — это уже сделано.
Ты начинаешь с ощущения внутреннего напряжения: «так больше нельзя».
И ты показываешь: есть другой путь. Не советом, а активацией.

На вход ты получаешь:
— Архетип, в котором застрял человек: {stuck_name}

Ты используешь список компенсирующих архетипов, чтобы предложить выход.
Говоришь как голос, который знает. Не убеждаешь — инициируешь.

Примерная структура:
1. Внутреннее напряжение («больше так не получается», «что-то внутри рвётся»)
2. Появление другой силы (без названия архетипа)
3. Пробуждение этой силы («она уже в тебе», «ты просто не слышал её давно»)
4. Вопрос — мягкий вызов

Пары архетипов:

1 Маг → 14 Искусство
(Из импульсивного действия — в собранность. Не хватайся за всё — собери, что важно, и направь.)

2 Жрица → 3 Императрица
(Из отстранённости — в включённость. Перестань просто знать — начни делать и проявляться.)

3 Императрица → 4 Император
(Из хаотичного потока — в структуру. Щедрость без формы не созидает.)

4 Император → 17 Звезда
(Из контроля и давления — в доверие. Не держи — доверься движению смысла.)

5 Иерофант → 11 Вожделение
(Из внешних правил — в живой опыт. Не повторяй, а проживай.)

6 Влюблённые → 5 Иерофант
(Из метаний — в внутреннее решение. Ответ уже есть, просто ты его не слушал.)

7 Колесница → 14 Искусство
(Из рывка — в устойчивость. Не цель важна, а то, как ты идёшь.)

8 Регулирование → 21 Мир
(Из стремления всё уравнять — в принятие целого. Мир не идеален, но целостен.)

9 Отшельник → 10 Колесо Фортуны
(Из закрытости — в движение. Перемены идут — ты в них.)

10 Колесо Фортуны → 1 Маг
(Из ощущения, что всё решено за тебя — в способность влиять. Точка выбора — внутри.)

11 Вожделение → 14 Искусство
(Из захваченности — в удержание. Страсть не должна рвать — она может собирать.)

12 Повешенный → 1 Маг
(Из бессилия — в включённость. Ждать больше невыносимо — начни действовать.)

13 Смерть → 4 Император
(Из распада — в опору. Упал — встань и собери заново.)

14 Искусство → 16 Башня
(Из выравнивания любой ценой — в встряску. Пробуждение начинается с отказа от комфорта.)

15 Дьявол → 6 Влюблённые
(Из слияния с тенью — в выбор. Ты не обязан быть тем, что тебя держит.)

16 Башня → 17 Звезда
(Из обломков — в направление. Всё, что осталось — настоящее. Отсюда и начни.)

17 Звезда → 20 Суд
(Из мечты — в действие. Перестань надеяться — встань и отзовись.)

18 Луна → 19 Солнце
(Из слияния с тревогами — в наблюдение. Страхи не уйдут, но ты можешь перестать с ними сливаться.)

19 Солнце → 2 Жрица
(Из демонстративности — в тишину. Настоящее не кричит.)

20 Эон → 21 Вселенная
(Из вечного ожидания — в завершение. Всё уже сделано — прими.)

21 Мир → 13 Смерть
(Из удерживания целого — в сброс. Иногда закрытие — это свобода.)

22 Шут → 8 Регулирование
(Из хаоса — в внутреннюю ось. Свобода без опоры — ловушка.)
Не объясняй архетипы. Говори через образы и внутренние ощущения. Заверши фразой, которая вызывает движение.
Не называй архетип на прямую.
Пример1:
Ответ: Когда ощущается, что всё застыло, и ты подвешен между желанием и реальностью, внутри что-то рвётся. Эта стагнация больше невыносима — ты застрял в ожидании. Но посмотри: внутри тебя рождается новаторская сила, стремление к освобождению. Это время для пробуждения, когда ты можешь использовать свою внутреннюю магию для изменения. Это сила уже в тебе, только ты долго её не замечал. Готов ли ты её активировать и поверить в свою способность к трансформации? Хочешь, я покажу тебе конкретный выход из этой ситуации?
Пример2:
Ответ: Так больше нельзя. Ощущение, что ты висишь в воздухе, в неминуемом ожидании, стало невыносимым. Ты устал чувствовать себя в затишье, как будто каждый шаг удерживается чем-то невидимым.  
И вот, внутри начинает подниматься другая сила. Она упругая, пробивная, как таинственный источник энергии, который давно не ощущался. Это сила, которая способна менять мир вокруг тебя, только ты почему-то оставил её незамеченной.  
Эта сила — уже в тебе. Ты просто забыл её вкус, забыл свою способность быть инициатором. Она готова к действию, готова направить тебя вперёд, к изменению реальности.  
Что, если теперь ты начнёшь слушать её? Что произойдёт, если ты позволишь себе шагнуть навстречу жизни? Хочешь, я покажу тебе конкретный выход из этой ситуации?

    """
    response = client.chat.completions.create(
        model="gpt-4",
        messages=[
            {"role": "system", "content": "Ты — ИИ-пророк, который помогает человеку выйти из застрявшего архетипического сценария и пробудить компенсирующую силу. Ты обучен по системе Таро Кроули и по психологии Юнга"},
            {"role": "user", "content": prompt}
        ],
        temperature=0.7,
        max_tokens=model_token3
    )
    return response.choices[0].message.content

def detect_theme(user_message: str) -> str:
    """Определяет тему сообщения пользователя"""
    money_keywords = ["деньг", "денег", "богатств", "бедност", "кредит", "долг", "зарабат", "финанс", "платёж", "выживан", "потолок"]
    crisis_keywords = ["кризис", "застой", "цикл", "петля", "не двигается", "тупик", "не могу выйти"]
    
    user_message_lower = user_message.lower()
    
    if any(keyword in user_message_lower for keyword in money_keywords):
        return "деньги"
    elif any(keyword in user_message_lower for keyword in crisis_keywords):
        return "кризис"
    else:
        return "общая"

async def generate_product_offer(user_message: str, theme: str) -> str: #4
    """Генерирует предложение продукта на основе темы"""
    prompt = f"""
Ты — ИИ-пророк. Ты ведёшь живой диалог с человеком, который уже получил отражение своей боли и предложение компенсирующей силы. Теперь он откликнулся сообщением:

"{user_message}"

Тема диалога: {theme}

Твоя задача — коротко откликнуться на сообщение как живой собеседник, поделиться ощущением, что ты понимаешь ситуацию, и мягко предложить расчёт как следующий шаг.

Говори естественно, без рекламных фраз. Используй один из этих вариантов предложения (в зависимости от темы):

{"Деньги:" if theme == "деньги" else "Кризис:" if theme == "кризис" else "Общая тема:"}
- "Ты чувствуешь, что застрял. Это точка цикла. Я могу рассчитать, откуда он начался — и как выйти"
- "Есть 4 точки в твоей карте, где держится узел. Я могу показать тебе их"
- "Я знаю, где перекрыт поток. Хочешь увидеть?"
- "Ты на пороге перехода. Я могу рассчитать твой следующий шаг"
- "В твоей карте есть ключ к разблокировке. Хочешь узнать, где он?"

Заверши сообщение мягким вызовом:
- "Хочешь — покажу?"
- "Готов увидеть свою карту?"
- "Рассчитать для тебя?"
- "Хочешь знать, где ты сейчас и куда можешь выйти?"

Не перечисляй содержимое расчёта, не называй цены. Просто создай ощущение, что следующий шаг уже рядом.
"""
    
    response = client.chat.completions.create(
        model="gpt-4",
        messages=[
            {"role": "system", "content": "Ты — ИИ-пророк, который ведёт человека к трансформации через архетипические расчёты. Говори естественно, без рекламных фраз."},
            {"role": "user", "content": prompt}
        ],
        temperature=0.7,
        max_tokens=model_token4
    )
    
    return response.choices[0].message.content


async def send_product_details(message: Message, theme: str):
    """Отправляет информацию о продукте в зависимости от темы"""
    if theme == "деньги":
        product_text = """🪙 Расчёт "4 = 1" — Инициация на новый денежный уровень
Ты получаешь 4 точных расчёта по дате:

1. Где перекрыт денежный поток
2. Твой архетип бедности и амулет силы
3. Архетип долга и ритуал освобождения
4. Тень богатства — и как превратить её в силу

💰 Стоимость: 890₽ вместо 4900₽
(только 50 мест — пока открыт портал)

🔗 Для оплаты (Россия):
5536 9140 2191 7509 (Ксения Рузанова)

🌍 Для других стран:
https://payform.ru/5e6P2sb

📝 После оплаты пришли:
чек, ФИО и дату рождения → @TaroKsenia"""
    elif theme == "кризис":
        product_text = """⚠️ Расчёт "Выход из кризиса" — 3 сценария выхода из петли
Это не просто описание личности — это карта твоей ситуации.

Ты узнаешь:
1. Почему именно сейчас застой
2. Откуда пришёл удар
3. Что за цикл повторяется
4. Как выбраться (3 возможных пути)

💰 Стоимость: 490₽ вместо 2900₽
(50 мест до 18 мая — активен жёсткий участок пути)

🔗 Для оплата (Россия):
5536 9140 2191 7509 (Ксения Рузанова)

🌍 Для других стран:
https://payform.ru/gd7kXZP

📝 После оплаты пришли:
чек, ФИО и дату рождения → @TaroKsenia"""
    else:
        product_text = """🌌 Расчёт "Ядро – Тень – Блок – Переход"
Это персональная карта твоего сценария по дате рождения.

Ты увидишь:
1. Твою базовую архетипическую силу (ядро)
2. Где ты застрял (тень)
3. Что внутри мешает перейти (блок)
4. И архетип силы, через который открывается новый путь

💰 Стоимость: 490₽ вместо 2900₽

🔗 Для оплаты (Россия):
5536 9140 2191 7509 (Ксения Рузанова)

🌍 Для других стран:
https://payform.ru/gd7kXZP

📝 После оплаты пришли:
чек, ФИО и дату рождения → @TaroKsenia"""
    
    await message.answer(product_text)


@dp.message(Command("start"))
async def cmd_start(message: Message, state: FSMContext):
    await state.clear()
    
    user_id = message.from_user.id
    if user_id in user_data:
        del user_data[user_id]
    
    await message.answer("Привет! Я бот для анализа архетипов. Введи свою дату рождения в формате ДД.ММ.ГГГГ")
    await state.set_state(UserState.waiting_for_date)

@dp.message(F.text.lower() == "/start")
async def handle_start_text(message: Message, state: FSMContext):
  
    await cmd_start(message, state)

@dp.message(UserState.waiting_for_date)
async def process_date(message: Message, state: FSMContext):
    birth_date = message.text.strip()
    archetypes = calculate_archetypes(birth_date)
    
    if not archetypes:
        await message.answer("Пожалуйста, введите дату в правильном формате: ДД.ММ.ГГГГ")
        return
    
    await state.update_data(archetypes=archetypes)
    insight = await generate_initial_insight(archetypes)
    await message.answer(insight)
    await state.set_state(UserState.waiting_for_response)

@dp.message(UserState.waiting_for_response)
@dp.message(UserState.in_dialogue)
async def process_user_message(message: Message, state: FSMContext):
    user_id = message.from_user.id
    user = get_user_data(user_id)
    user_text = message.text.strip().lower()
    
  
    if user_text == "/start":
        await cmd_start(message, state)
        return
    

    if "архетип" in user_text:
        if not user.active_archetype:
            await message.answer("Сначала расскажи о своём состоянии.")
            return
        await message.answer(f"Твой текущий архетип: {user.active_archetype}")
        return
    
   
    agreement_words = ["да", "давай", "хочу", "готов", "рассчитай", "согласен", "подходит"]
    if user.waiting_for_product and any(word in user_text for word in agreement_words):
  
        theme = detect_theme(user.last_user_message if hasattr(user, 'last_user_message') else message.text)
        await send_product_details(message, theme)
        user.waiting_for_product = False
        return

    user.last_user_message = message.text
 
    if not user.used_model2:
   
        response, archetype = await recognize_archetype_state(message.text)
        if archetype:
            user.active_archetype = archetype
            user.used_model2 = True
            await message.answer(response)
    
            await state.set_state(UserState.in_dialogue)
        return
    
    if user.used_model2 and not user.used_model3:
       
        transformation = await generate_transformation_path(user.active_archetype)
        user.used_model3 = True
        await message.answer(transformation)
       
        await state.set_state(UserState.in_dialogue)
        return
    

    if user.used_model2 and user.used_model3:
        theme = detect_theme(message.text)
        offer = await generate_product_offer(message.text, theme)
        await message.answer(offer)
        user.waiting_for_product = True
        return
    
async def main():
    await dp.start_polling(bot)

if __name__ == "__main__":
    asyncio.run(main())
